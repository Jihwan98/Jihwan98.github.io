---
title: "[CS] Chapter 04. CPUμ μ‘λ™ μ›λ¦¬"
author: JIHWAN PARK
categories: [Backend, CS]
tag: [Backend, CS]
math: true
date: 2023-08-27 17:14:04 +0900
last_modified_at: 2023-08-28 20:07:25 +0900
image: "https://github.com/Jihwan98/Jihwan98.github.io/assets/76936390/4e190150-96b0-438d-b2f2-35cff7fa4ea7"
---
> [νΌμ κ³µλ¶€ν•λ” μ»΄ν“¨ν„° κµ¬μ΅° + μ΄μμ²΄μ  (ν•λΉ›λ―Έλ””μ–΄ μ¶ν, κ°•λ―Όμ²  μ§€μ)](https://www.hanbit.co.kr/store/books/look.php?p_code=B9177037040) μΌλ΅ κ³µλ¶€ν• λ‚΄μ©μ„ μ •λ¦¬ν•©λ‹λ‹¤.<br>
> CS Studyλ¥Ό ν†µν•΄ ν•¨κ» κ³µλ¶€ν•κ³  μμµλ‹λ‹¤. [[github repository]](https://github.com/aivle33-dev-study/cs-study)
{: .prompt-info}

## β… 04 - 1. ALUμ™€ μ μ–΄μ¥μΉ

> CPUμ κµ¬μ„± μ”μ† μ¤‘ ALUμ™€ μ μ–΄μ¥μΉλ¥Ό μ•μ•„λ³΄μ.<br>
> ν•µμ‹¬ ν‚¤μ›λ“ : `ALU` `ν”λκ·Έ` `μ μ–΄μ¥μΉ` `μ μ–΄ μ‹ νΈ`
{: .prompt-info}

### β”οΈ ALU
![image](/assets/posts/ALU.png)
_ALUκ°€ μ–΄λ–¤ μ •λ³΄λ¥Ό λ°›μ•„λ“¤μ΄κ³  λ‚΄λ³΄λ‚΄λ”μ§€λ¥Ό ν‘ν„ν• κ·Έλ¦Ό_

`ALU`λ” λ μ§€μ¤ν„°λ¥Ό ν†µν•΄ `ν”Όμ—°μ‚°μ`λ¥Ό λ°›μ•„λ“¤μ΄κ³ , μ μ–΄μ¥μΉλ΅λ¶€ν„° μν–‰ν•  μ—°μ‚°μ„ μ•λ ¤μ£Όλ” `μ μ–΄ μ‹ νΈ`λ¥Ό λ°›μ•„λ“¤μΈλ‹¤. ALUλ” λ μ§€μ¤ν„°μ™€ μ μ–΄μ¥μΉλ΅λ¶€ν„° λ°›μ•„λ“¤μΈ ν”Όμ—°μ‚°μμ™€ μ μ–΄ μ‹ νΈλ΅ μ‚°μ  μ—°μ‚°, λ…Όλ¦¬ μ—°μ‚° λ“± λ‹¤μ–‘ν• μ—°μ‚°μ„ μν–‰ν•λ‹¤.

μ—°μ‚°μ„ μν–‰ν• κ²°κ³Ό
- νΉμ • μ«μ, λ¬Έμ, λ©”λ¨λ¦¬ μ£Όμ†

μ΄λ” λ°”λ΅ λ©”λ¨λ¦¬μ— μ €μ¥λμ§€ μ•κ³  μΌμ‹μ μΌλ΅ `λ μ§€μ¤ν„°`μ— μ €μ¥λλ‹¤.

CPUκ°€ λ©”λ¨λ¦¬μ— μ ‘κ·Όν•λ” μ‹κ°„μ€ λ μ§€μ¤ν„°μ— μ ‘κ·Όν•λ” μ‹κ°„λ³΄λ‹¤ ν›¨μ”¬ λλ¦¬κΈ° λ•λ¬Έμ— λ μ§€μ¤ν„°μ— μ°μ„  μ €μ¥ν•λ‹¤.

ALUλ” κ³„μ‚° κ²°κ³Όμ™€ λ”λ¶μ–΄ `ν”λκ·Έ(flag)`λ¥Ό λ‚΄λ³΄λ‚Έλ‹¤. μ—°μ‚° κ²°κ³Όμ— λ€ν• μ¶”κ°€μ μΈ μƒνƒ μ •λ³΄λ¥Ό μλ―Έ. ALUκ°€ λ‚΄λ³΄λ‚΄λ” λ€ν‘μ μΈ ν”λκ·Έλ” μ•„λμ™€ κ°™λ‹¤.

|ν”λκ·Έ μΆ…λ¥|μλ―Έ|μ‚¬μ© μμ‹|
|---|---|---|
|λ¶€νΈ ν”λκ·Έ|μ—°μ‚°ν• κ²°κ³Όμ λ¶€νΈλ¥Ό λ‚νƒ€λ‚Έλ‹¤.|1 : κ³„μ‚° κ²°κ³Όκ°€ μμ<br>0 : κ³„μ‚° κ²°κ³Όκ°€ μ–‘μ|
|μ λ΅ ν”λκ·Έ|μ—°μ‚° κ²°κ³Όκ°€ 0μΈμ§€ μ—¬λ¶€λ¥Ό λ‚νƒ€λ‚Έλ‹¤.|1 : μ—°μ‚° κ²°κ³Όκ°€ 0<br>0 : μ—°μ‚° κ²°κ³Όκ°€ 0μ΄ μ•„λ‹|
|μΊλ¦¬ ν”λκ·Έ|μ—°μ‚° κ²°κ³Ό μ¬λ¦Όμλ‚ λΉλ¦Όμκ°€ λ°μƒν–λ”μ§€λ¥Ό λ‚νƒ€λ‚Έλ‹¤.|1 : μ¬λ¦Όμλ‚ λΉλ¦Όμκ°€ λ°μƒν–μ<br>0 : μ¬λ¦Όμλ‚ λΉλ¦Όμκ°€ λ°μƒν•μ§€ μ•μ•μ|
|μ¤λ²„ν”λ΅μ° ν”λκ·Έ|μ¤λ²„ν”λ΅μ°κ°€ λ°μƒν–λ”μ§€λ¥Ό λ‚νƒ€λ‚Έλ‹¤.|1 : μ¤λ²„ν”λ΅μ°κ°€ λ°μƒ<br>0 : μ¤λ²„ν”λ΅μ°κ°€ λ°μƒν•μ§€ μ•μ|
|μΈν„°λ½νΈ ν”λκ·Έ|μΈν„°λ½νΈκ°€ κ°€λ¥ν•μ§€λ¥Ό λ‚νƒ€λ‚Έλ‹¤.|1 : μΈν„°λ½νΈκ°€ κ°€λ¥<br>0 : μΈν„°λ½νΈκ°€ λ¶κ°€λ¥|
|μνΌλ°”μ΄μ € ν”λκ·Έ|μ»¤λ„ λ¨λ“λ΅ μ‹¤ν–‰ μ¤‘μΈμ§€, μ‚¬μ©μ λ¨λ“λ΅ μ‹¤ν–‰ μ¤‘μΈμ§€λ¥Ό λ‚νƒ€λ‚Έλ‹¤.|1 : μ»¤λ„λ¨λ“λ΅ μ‹¤ν–‰ μ¤‘<br>0 : μ‚¬μ©μ λ¨λ“λ΅ μ‹¤ν–‰ μ¤‘|

ν”λκ·Έλ“¤μ€ `ν”λκ·Έ λ μ§€μ¤ν„°`μ— μ €μ¥λλ‹¤.

### β”οΈ μ μ–΄μ¥μΉ

- `μ μ–΄μ¥μΉ`λ” μ μ–΄ μ‹ νΈλ¥Ό λ‚΄λ³΄λ‚΄κ³ , λ…λ Ήμ–΄λ¥Ό ν•΄μ„ν•λ” λ¶€ν’
- `μ μ–΄ μ‹ νΈ`λ” μ»΄ν“¨ν„° λ¶€ν’λ“¤μ„ κ΄€λ¦¬ν•κ³  μ‘λ™μ‹ν‚¤κΈ° μ„ν• μΌμΆ…μ μ „κΈ° μ‹ νΈ

μ μ–΄μ¥μΉλ” CPUμ κµ¬μ„± μ”μ† μ¤‘ κ°€μ¥ μ •κµν•κ² μ„¤κ³„λ λ¶€ν’

![image](/assets/posts/μ μ–΄μ¥μΉ.png)
_μ μ–΄μ¥μΉκ°€ λ¬΄μ—‡μ„ λ°›μ•„λ“¤μ΄κ³ , λ¬΄μ—‡μ„ λ‚΄λ³΄λ‚΄λ”μ§€ λ‚νƒ€λ‚΄λ” κ·Έλ¦Ό_

<mark>μ μ–΄ μ¥μΉκ°€ λ°›μ•„λ“¤μ΄λ” μ •λ³΄</mark>
- ν΄λ­
- λ…λ Ήμ–΄
- ν”λκ·Έ
- μ μ–΄ μ‹ νΈ

1οΈβƒ£ μ μ–΄μ¥μΉλ” ν΄λ­ μ‹ νΈλ¥Ό λ°›μ•„λ“¤μΈλ‹¤.
: `ν΄λ­(clock)`μ΄λ€ μ»΄ν“¨ν„°μ λ¨λ“  λ¶€ν’μ„ μ›€μ§μΌ μ μκ² ν•λ” μ‹κ°„ λ‹¨μ„. ν΄λ­μ μ£ΌκΈ°μ— λ§μ¶° ν• λ μ§€μ¤ν„°μ—μ„ λ‹¤λ¥Έ λ μ§€μ¤ν„°λ΅ λ°μ΄ν„°κ°€ μ΄λ™λκ±°λ‚, ALUμ—μ„ μ—°μ‚°μ΄ μν–‰λκ±°λ‚, CPUκ°€ λ©”λ¨λ¦¬μ— μ €μ¥λ λ…λ Ήμ–΄λ¥Ό μ½μ–΄ λ“¤μΈλ‹¤.

2οΈβƒ£ μ μ–΄μ¥μΉλ” 'ν•΄μ„ν•΄μ•Ό ν•  λ…λ Ήμ–΄'λ¥Ό λ°›μ•„λ“¤μΈλ‹¤.
: CPUκ°€ ν•΄μ„ν•΄μ•Ό ν•  λ…λ Ήμ–΄λ” `λ…λ Ήμ–΄ λ μ§€μ¤ν„°`μ— μ €μ¥λλ‹¤. μ μ–΄μ¥μΉλ” λ…λ Ήμ–΄ λ μ§€μ¤ν„°λ΅λ¶€ν„° ν•΄μ„ν•  λ…λ Ήμ–΄λ¥Ό λ°›μ•„λ“¤μ΄κ³  ν•΄μ„ν• λ’¤, μ μ–΄ μ‹ νΈλ¥Ό λ°μƒμ‹μΌ μ»΄ν“¨ν„° λ¶€ν’λ“¤μ— μν–‰ν•΄μ•Ό ν•  λ‚΄μ©μ„ μ•λ ¤μ¤€λ‹¤.

3οΈβƒ£ μ μ–΄μ¥μΉλ” ν”λκ·Έ λ μ§€μ¤ν„° μ† ν”λκ·Έ κ°’μ„ λ°›μ•„λ“¤μΈλ‹¤.
: μ μ–΄μ¥μΉλ” ν”λκ·Έ κ°’μ„ λ°›μ•„λ“¤μ΄κ³  μ΄λ¥Ό μ°Έκ³ ν•μ—¬ μ μ–΄ μ‹ νΈλ¥Ό λ°μƒμ‹ν‚¨λ‹¤.

4οΈβƒ£ μ μ–΄μ¥μΉλ” μ‹μ¤ν… λ²„μ¤, κ·Έμ¤‘μ—μ„ μ μ–΄ λ²„μ¤λ΅ μ „λ‹¬λ μ μ–΄ μ‹ νΈλ¥Ό λ°›μ•„λ“¤μΈλ‹¤.
: μ μ–΄ μ‹ νΈλ” CPUλΏλ§ μ•„λ‹λΌ μ…μ¶λ ¥μ¥μΉλ¥Ό λΉ„λ΅―ν• CPU μ™Έλ¶€ μ¥μΉλ„ λ°μƒμ‹ν‚¬ μ μλ‹¤. μ μ–΄ μ¥μΉλ” μ μ–΄ λ²„μ¤λ¥Ό ν†µν•΄ μ™Έλ¶€λ΅λ¶€ν„° μ „λ‹¬λ μ μ–΄ μ‹ νΈλ¥Ό λ°›μ•„λ“¤μ΄κΈ°λ„ ν•λ‹¤.

<mark>μ μ–΄μ¥μΉκ°€ λ‚΄λ³΄λ‚΄λ” μ •λ³΄</mark>
- CPU μ™Έλ¶€μ— μ „λ‹¬ν•λ” μ μ–΄ μ‹ νΈ
- CPU λ‚΄λ¶€μ— μ „λ‹¬ν•λ” μ μ–΄ μ‹ νΈ

**1οΈβƒ£ CPU μ™Έλ¶€μ— μ „λ‹¬ν•λ” μ μ–΄ μ‹ νΈ**

`λ©”λ¨λ¦¬`μ— μ „λ‹¬ν•λ” μ μ–΄ μ‹ νΈ : μ μ–΄μ¥μΉκ°€ λ©”λ¨λ¦¬μ— μ €μ¥λ κ°’μ„ μ½κ±°λ‚ λ©”λ¨λ¦¬μ— μƒλ΅μ΄ κ°’μ„ μ“°κΈ° μ„ν• μ μ–΄ μ‹ νΈ

`μ…μ¶λ ¥μ¥μΉ(λ³΄μ΅°κΈ°μ–µμ¥μΉ)`λ΅ μ „λ‹¬ν•λ” μ μ–΄ μ‹ νΈ : μ μ–΄μ¥μΉκ°€ μ…μ¶λ ¥μ¥μΉ(λ³΄μ΅°κΈ°μ–µμ¥μΉ)μ κ°’μ„ μ½κ±°λ‚ μ…μ¶λ ¥μ¥μΉ(λ³΄μ΅°κΈ°μ–µμ¥μΉ)μ— μƒλ΅μ΄ κ°’μ„ μ“°κΈ° μ„ν• μ μ–΄ μ‹ νΈ 

**2οΈβƒ£ CPU λ‚΄λ¶€μ— μ „λ‹¬ν•λ” μ μ–΄ μ‹ νΈ**

`ALU`μ— μ „λ‹¬ν•λ” μ μ–΄μ‹ νΈ : μν–‰ν•  μ—°μ‚°μ„ μ§€μ‹ν•κΈ° μ„ν• μ μ–΄ μ‹ νΈ

`λ μ§€μ¤ν„°`μ— μ „λ‹¬ν•λ” μ μ–΄ μ‹ νΈ : λ μ§€μ¤ν„° κ°„μ— λ°μ΄ν„°λ¥Ό μ΄λ™μ‹ν‚¤κ±°λ‚ λ μ§€μ¤ν„°μ— μ €μ¥λ λ…λ Ήμ–΄λ¥Ό ν•΄μ„ν•κΈ° μ„ν• μ μ–΄ μ‹ νΈ

## β… 04 - 2. λ μ§€μ¤ν„°

> λ μ§€μ¤ν„°μ μΆ…λ¥μ™€ μ—­ν• μ„ ν•™μµν•κ³ , κ° λ μ§€μ¤ν„°λ¥Ό ν†µν•΄ λ…λ Ήμ–΄κ°€ μ²λ¦¬λλ” κ³Όμ •μ„ μ΄ν•΄ν•λ‹¤.<br>
> ν•µμ‹¬ ν‚¤μ›λ“ : `ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°` `λ…λ Ήμ–΄ λ μ§€μ¤ν„°` `λ©”λ¨λ¦¬ μ£Όμ†/λ²„νΌ λ μ§€μ¤ν„°` `λ²”μ©/ν”λκ·Έ λ μ§€μ¤ν„°` `μ¤νƒ ν¬μΈν„°` `λ² μ΄μ¤ λ μ§€μ¤ν„°`
{: .prompt-info}

ν”„λ΅κ·Έλ¨ μ† λ…λ Ήμ–΄μ™€ λ°μ΄ν„°λ” μ‹¤ν–‰ μ „ν›„λ΅ λ°λ“μ‹ λ μ§€μ¤ν„°μ— μ €μ¥λλ‹¤. μ•μ•„μ•Ό ν•  μ—¬λ κ°μ λ μ§€μ¤ν„°λ” μ•„λμ™€ κ°™λ‹¤.
1. [ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°](#%EF%B8%8F-ν”„λ΅κ·Έλ¨-μΉ΄μ΄ν„°)
2. [λ…λ Ήμ–΄ λ μ§€μ¤ν„°](#%EF%B8%8F-λ…λ Ήμ–΄-λ μ§€μ¤ν„°)
3. [λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°](#%EF%B8%8F-λ©”λ¨λ¦¬-μ£Όμ†-λ μ§€μ¤ν„°)
4. [λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„°](#%EF%B8%8F-λ©”λ¨λ¦¬-λ²„νΌ-λ μ§€μ¤ν„°)
5. [ν”λκ·Έ λ μ§€μ¤ν„°](#%EF%B8%8F-ν”λκ·Έ-λ μ§€μ¤ν„°)
6. [λ²”μ© λ μ§€μ¤ν„°](#%EF%B8%8F-λ²”μ©-λ μ§€μ¤ν„°)
7. μ¤νƒ ν¬μΈν„°
8. λ² μ΄μ¤ λ μ§€μ¤ν„°

### β”οΈ ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°
`ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°(PC: Program Counter)`λ” λ©”λ¨λ¦¬μ—μ„ κ°€μ Έμ¬ λ…λ Ήμ–΄μ μ£Όμ†λ¥Ό μ €μ¥ν•λ‹¤. `λ…λ Ήμ–΄ ν¬μΈν„°(IP: Instruction Pointer)`λΌκ³  λ¶€λ¥΄λ” CPUλ„ μλ‹¤.

### β”οΈ λ…λ Ήμ–΄ λ μ§€μ¤ν„°
`λ…λ Ήμ–΄ λ μ§€μ¤ν„°(IR: Instruction Register)`λ” ν•΄μ„ν•  λ…λ Ήμ–΄, μ¦‰ λ°©κΈ λ©”λ¨λ¦¬μ—μ„ μ½μ–΄ λ“¤μΈ λ…λ Ήμ–΄λ¥Ό μ €μ¥ν•λ” λ μ§€μ¤ν„°μ΄λ‹¤. μ μ–΄μ¥μΉλ” λ…λ Ήμ–΄ λ μ§€μ¤ν„° μ† λ…λ Ήμ–΄λ¥Ό λ°›μ•„λ“¤μ΄κ³  μ΄λ¥Ό ν•΄μ„ν• λ’¤ μ μ–΄ μ‹ νΈλ¥Ό λ‚΄λ³΄λ‚Έλ‹¤.

### β”οΈ λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°
`λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°(MAR: Memory Address Register)`λ” λ©”λ¨λ¦¬μ μ£Όμ†λ¥Ό μ €μ¥ν•λ” λ μ§€μ¤ν„°μ΄λ‹¤. CPUκ°€ μ½μ–΄λ“¤μ΄κ³ μ ν•λ” μ£Όμ† κ°’μ„ μ£Όμ† λ²„μ¤λ΅ λ³΄λ‚Ό λ• λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°λ¥Ό κ±°μΉλ‹¤.

### β”οΈ λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„°
`λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„°(MBR: Memory Buffer Register)`λ” λ©”λ¨λ¦¬μ™€ μ£Όκ³ λ°›μ„ κ°’(λ°μ΄ν„°μ™€ λ…λ Ήμ–΄)μ„ μ €μ¥ν•λ” λ μ§€μ¤ν„°μ΄λ‹¤. μ¦‰, λ©”λ¨λ¦¬μ— μ“°κ³  μ‹¶μ€ κ°’μ΄λ‚ λ©”λ¨λ¦¬λ΅λ¶€ν„° μ „λ‹¬λ°›μ€ κ°’μ€ λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„°λ¥Ό κ±°μΉλ‹¤. `λ©”λ¨λ¦¬ λ°μ΄ν„° λ μ§€μ¤ν„°(MDR: Memory Data Register)`λΌκ³ λ„ λ¶€λ¥Έλ‹¤.

### β”οΈ ν”λκ·Έ λ μ§€μ¤ν„°
`ν”„λκ·Έ λ μ§€μ¤ν„°(flag register)`λ” μ—°μ‚° κ²°κ³Ό λλ” CPU μƒνƒμ— λ€ν• λ¶€κ°€μ γ…‡λ‹ μ •λ³΄λ¥Ό μ €μ¥ν•λ” λ μ§€μ¤ν„°μ΄λ‹¤.

### β”οΈ λ²”μ© λ μ§€μ¤ν„°
`λ²”μ© λ μ§€μ¤ν„°(general purpose register)`λ” μ΄λ¦„ κ·Έλ€λ΅ λ‹¤μ–‘ν•κ³  μΌλ°μ μΈ μƒν™©μ—μ„ μμ λ΅­κ² μ‚¬μ©ν•  μ μλ” λ μ§€μ¤ν„°μ΄λ‹¤. λ²”μ© λ μ§€μ¤ν„°λ” λ°μ΄ν„°μ™€ μ£Όμ†λ¥Ό λ¨λ‘ μ €μ¥ν•  μ μλ‹¤.

### β”οΈ μ£Όμ† μ§€μ • λ°©μ‹ (1): μ¤νƒ μ£Όμ† μ§€μ • λ°©μ‹
`μ¤νƒ ν¬μΈν„°(stack pointer)`λ” `μ¤νƒ μ£Όμ† μ§€μ • λ°©μ‹`μ΄λΌλ” μ£Όμ† μ§€μ • λ°©μ‹μ— μ‚¬μ©λλ‹¤.

`μ¤νƒ μ£Όμ† μ§€μ • λ°©μ‹`μ€ μ¤νƒκ³Ό μ¤νƒ ν¬μΈν„°λ¥Ό μ΄μ©ν• μ£Όμ† μ§€μ • λ°©μ‹μ΄λ‹¤. `μ¤νƒ ν¬μΈν„°`λ€ μ¤νƒμ κΌ­λ€κΈ°λ¥Ό κ°€λ¦¬ν‚¤λ” λ μ§€μ¤ν„°μ΄λ‹¤. μ¤νƒμ€ λ©”λ¨λ¦¬ μ•μ— μ¤νƒμ²λΌ μ‚¬μ©ν•  μμ—­μΌλ΅ μ •ν•΄μ§„ `μ¤νƒ μμ—­`μ— μλ‹¤.

### β”οΈ μ£Όμ† μ§€μ • λ°©μ‹ (2): λ³€μ„ μ£Όμ† μ§€μ • λ°©μ‹
`λ³€μ„ μ£Όμ† μ§€μ • λ°©μ‹(displacement addressing mode)`μ΄λ€ μ¤νΌλλ“ ν•„λ“μ κ°’(λ³€μ„)κ³Ό νΉμ • λ μ§€μ¤ν„°μ κ°’μ„ λ”ν•μ—¬ μ ν¨ μ£Όμ†λ¥Ό μ–»μ–΄λ‚΄λ” μ£Όμ† μ§€μ • λ°©μ‹μ΄λ‹¤.

![image](/assets/posts/λ³€μ„%20μ£Όμ†%20μ§€μ •%20λ°©μ‹.png)

λ³€μ„ μ£Όμ† μ§€μ • λ°©μ‹μ€ μ¤νΌλλ“ ν•„λ“μ μ£Όμ†μ™€ μ–΄λ–¤ λ μ§€μ¤ν„°λ¥Ό λ”ν•λ”μ§€μ— λ”°λΌ `μƒλ€ μ£Όμ† μ§€μ • λ°©μ‹`, `λ² μ΄μ¤ λ μ§€μ¤ν„° μ£Όμ† μ§€μ • λ°©μ‹` λ“±μΌλ΅ λ‚λ‰λ‹¤.

#### π” μƒλ€ μ£Όμ† μ§€μ • λ°©μ‹
`μƒλ€ μ£Όμ† μ§€μ • λ°©μ‹(relative addressing mode)`μ€ μ¤νΌλλ“μ™€ ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°μ κ°’μ„ λ”ν•μ—¬ μ ν¨ μ£Όμ†λ¥Ό μ–»λ” λ°©μ‹μ΄λ‹¤. ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°μ—λ” μ½μ–΄ λ“¤μΌ λ…λ Ήμ–΄μ μ£Όμ†κ°€ μ €μ¥λμ–΄ μλ‹¤. μƒλ€ μ£Όμ† μ§€μ • λ°©μ‹μ€ ν”„λ΅κ·Έλλ° μ–Έμ–΄μ ifλ¬Έκ³Ό μ μ‚¬ν•κ² λ¨λ“  μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ” κ²ƒμ΄ μ•„λ‹, λ¶„κΈ°ν•μ—¬ νΉμ • μ£Όμ†μ μ½”λ“λ¥Ό μ‹¤ν–‰ν•  λ• μ‚¬μ©λλ‹¤.

#### π” λ² μ΄μ¤ λ μ§€μ¤ν„° μ£Όμ† μ§€μ • λ°©μ‹
`λ² μ΄μ¤ λ μ§€μ¤ν„° μ£Όμ† μ§€μ • λ°©μ‹(base-register addressing mode)`μ€ μ¤νΌλλ“μ™€ λ² μ΄μ¤ λ μ§€μ¤ν„°μ κ°’μ„ λ”ν•μ—¬ μ ν¨ μ£Όμ†λ¥Ό μ–»λ” λ°©μ‹μ΄λ‹¤.

μ—¬κΈ°μ„ λ² μ΄μ¤ λ μ§€μ¤ν„°λ” 'κΈ°μ¤€ μ£Όμ†', μ¤νΌλλ“λ” 'κΈ°μ¤€ μ£Όμ†λ΅λ¶€ν„° λ–¨μ–΄μ§„ κ±°λ¦¬'λ΅μ„μ μ—­ν• μ„ ν•λ‹¤.

## β… 04 - 3. λ…λ Ήμ–΄ μ‚¬μ΄ν΄κ³Ό μΈν„°λ½νΈ

> CPUκ°€ ν•λ‚μ λ…λ Ήμ–΄λ¥Ό μ²λ¦¬ν•λ” νλ¦„μΈ λ…λ Ήμ–΄ μ‚¬μ΄ν΄κ³Ό κ·Έ νλ¦„μ„ λ°©ν•΄ν•λ” μΈν„°λ½νΈμ— λ€ν•΄ ν•™μµν•λ‹¤.<br>
> ν•µμ‹¬ ν‚¤μ›λ“ : `λ…λ Ήμ–΄ μ‚¬μ΄ν΄` `μΈν„°λ½νΈ` `μμ™Έ` `ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ` `μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄`
{: .prompt-info}

### β”οΈ λ…λ Ήμ–΄ μ‚¬μ΄ν΄
`λ…λ Ήμ–΄ μ‚¬μ΄ν΄` : λ…λ Ήμ–΄κ°€ μ‹¤ν–‰λλ” μΌμ •ν• μ£ΌκΈ°. ν•λ‚μ λ…λ Ήμ–΄λ¥Ό μ²λ¦¬ν•λ” μ •ν•ν™”λ νλ¦„
- `μΈμ¶ μ‚¬μ΄ν΄(fetch cycle)` : λ©”λ¨λ¦¬μ— μλ” λ…λ Ήμ–΄λ¥Ό CPUλ΅ κ°€μ§€κ³  μ¤λ” λ‹¨κ³„
- `μ‹¤ν–‰ μ‚¬μ΄ν΄(execution cycle)` : CPUλ΅ κ°€μ Έμ¨ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•λ” λ‹¨κ³„. μ μ–΄μ¥μΉκ°€ λ…λ Ήμ–΄ λ μ§€μ¤ν„°μ— λ‹΄κΈ΄ κ°’μ„ ν•΄μ„ν•κ³ , μ μ–΄ μ‹ νΈλ¥Ό λ°μƒμ‹ν‚¤λ” λ‹¨κ³„
- `κ°„μ ‘ μ‚¬μ΄ν΄(indirect cycle)` : λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•κΈ° μ„ν•΄ λ©”λ¨λ¦¬ μ ‘κ·Όμ„ ν• λ² λ” ν•λ” λ‹¨κ³„

![image](/assets/posts/λ…λ Ήμ–΄%20μ‚¬μ΄ν΄.png)
_λ…λ Ήμ–΄ μ‚¬μ΄ν΄ λ„μ‹_

### β”οΈ μΈν„°λ½νΈ
`μΈν„°λ½νΈ(interrupt)` : CPUμ μ‘μ—…μ„ λ°©ν•΄ν•λ” μ‹ νΈ

μΈν„°λ½νΈμ μΆ…λ¥μ—λ” ν¬κ² `λ™κΈ° μΈν„°λ½νΈ`μ™€ `λΉ„λ™κΈ° μΈν„°λ½νΈ`κ°€ μλ‹¤.

#### π” λ™κΈ° μΈν„°λ½νΈ
`λ™κΈ° μΈν„°λ½νΈ(synchronous interrupts)`λ” CPUμ— μν•΄ λ°μƒν•λ” μΈν„°λ½νΈμ΄λ‹¤. CPUκ°€ μ‹¤ν–‰ν•λ” ν”„λ΅κ·Έλλ°μƒμ μ¤λ¥μ™€ κ°™μ€ μμ™Έμ μΈ μƒν™©μ— λ§μ£Όμ³¤μ„ λ• λ°μƒν•λ” μΈν„°λ½νΈμ΄λ‹¤. `μμ™Έ(exception)`λΌκ³  λ¶€λ¥Έλ‹¤.

> **μμ™Έμ μΆ…λ¥**<br>
> μμ™Έμ μΆ…λ¥μ—λ” `ν΄νΈ, νΈλ©, μ¤‘λ‹¨, μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ`κ°€ μλ‹¤.
> - `ν΄νΈ(fault)` : μμ™Έλ¥Ό μ²λ¦¬ν• μ§ν›„ μμ™Έκ°€ λ°μƒν• λ…λ Ήμ–΄λ¶€ν„° μ‹¤ν–‰μ„ μ¬κ°ν•λ‹¤.
> - `νΈλ©(trap)` : μμ™Έλ¥Ό μ²λ¦¬ν• μ§ν›„ μμ™Έκ°€ λ°μƒν• λ…λ Ήμ–΄μ λ‹¤μ λ…λ Ήμ–΄λ¶€ν„° μ‹¤ν–‰μ„ μ¬κ°ν•λ‹¤. μ£Όλ΅ λ””λ²„κΉ…ν•  λ• μ‚¬μ©ν•λ‹¤.
> - `μ¤‘λ‹¨(abort)` : CPUκ°€ μ‹¤ν–‰ μ¤‘μΈ ν”„λ΅κ·Έλ¨μ„ κ°•μ λ΅ μ¤‘λ‹¨μ‹ν‚¬ μλ°–μ— μ—†λ” μ‹¬κ°ν• μ¤λ¥λ¥Ό λ°κ²¬ν–μ„ λ• λ°μƒν•λ” μμ™Έμ΄λ‹¤.
> - `μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ(software interrupt)` : μ‹μ¤ν… νΈμ¶μ΄ λ°μƒν–μ„ λ• λ‚νƒ€λ‚λ‹¤.
{: .prompt-tip}

#### π” λΉ„λ™κΈ° μΈν„°λ½νΈ
`λΉ„λ™κΈ° μΈν„°λ½νΈ(asynchronous interrupts)`λ” μ£Όλ΅ μ…μ¶λ ¥μ¥μΉμ— μν•΄ λ°μƒν•λ” μΈν„°λ½νΈμ΄λ‹¤. μ„ΈνƒκΈ° μ™„λ£ μ•λ¦Ό, μ „μλ μΈμ§€ μ΅°λ¦¬ μ™„λ£ μ•λ¦Όκ³Ό κ°™μ€ μ•λ¦Ό μ—­ν• μ„ ν•λ‹¤.

μΌλ°μ μΌλ΅ λΉ„λ™κΈ° μΈν„°λ½νΈλ¥Ό μΈν„°λ½νΈλΌ μΉ­ν•κΈ°λ„ ν•λ”λ°, ν•΄λ‹Ή μ±…μ—μ„λ” μ©μ–΄μ νΌλ™μ„ λ§‰κΈ° μ„ν•΄ `ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ`λΌλ” μ©μ–΄λ¥Ό μ‚¬μ©ν•λ‹¤.

#### π” ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ μ²λ¦¬ μμ„
1. μ…μ¶λ ¥μ¥μΉλ” CPUμ— `μΈν„°λ½νΈ μ”μ²­ μ‹ νΈ`λ¥Ό λ³΄λ‚Έλ‹¤.
2. CPUλ” μ‹¤ν–‰ μ‚¬μ΄ν΄μ΄ λλ‚κ³  λ…λ Ήμ–΄λ¥Ό μΈμ¶ν•κΈ° μ „ ν•­μƒ μΈν„°λ½νΈ μ—¬λ¶€λ¥Ό ν™•μΈν•λ‹¤.
3. CPUλ” μΈν„°λ½νΈ μ”μ²­μ„ ν™•μΈν•κ³  `μΈν„°λ½νΈ ν”λκ·Έ`λ¥Ό ν†µν•΄ ν„μ¬ μΈν„°λ½νΈλ¥Ό λ°›μ•„λ“¤μΌ μ μλ”μ§€ μ—¬λ¶€λ¥Ό ν™•μΈν•λ‹¤.
4. μΈν„°λ½νΈλ¥Ό λ°›μ•„λ“¤μΌ μ μλ‹¤λ©΄ CPUλ” μ§€κΈκΉμ§€μ μ‘μ—…μ„ λ°±μ—…ν•λ‹¤.
5. CPUλ” `μΈν„°λ½νΈ λ²΅ν„°`λ¥Ό μ°Έμ΅°ν•μ—¬ `μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄`μ„ μ‹¤ν–‰ν•λ‹¤.
6. μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄ μ‹¤ν–‰μ΄ λλ‚λ©΄ `4`μ—μ„ λ°±μ—…ν•΄ λ‘” μ‘μ—…μ„ λ³΄κµ¬ν•μ—¬ μ‹¤ν–‰μ„ μ¬κ°ν•λ‹¤.

- `μΈν„°λ½νΈ μ”μ²­ μ‹ νΈ` : CPUμ—κ² "μ§€κΈ λΌμ–΄λ“¤μ–΄λ„ λλ‚μ”?"ν•κ³  λ¬Όμ–΄λ³΄λ” μ‹ νΈ
- `μΈν„°λ½νΈ ν”λκ·Έ(interrupt flag)` : ν•λ“μ›¨μ–΄ μΈν„°λ½νΈλ¥Ό λ°›μ•„λ“¤μΌμ§€, λ¬΄μ‹ν• μ§€ κ²°μ •ν•λ” ν”λκ·Έ. CPUκ°€ μΈν„°λ½νΈ μ”μ²­μ„ μμ©ν•κΈ° μ„ν•΄μ„  ν”λκ·Έ λ μ§€μ¤ν„°μ μΈν„°λ½νΈ ν”λκ·Έκ°€ ν™μ„±ν™”λμ–΄ μμ–΄μ•Ό ν•λ‹¤.

> λ¨λ“  ν•λ“μ›¨μ–΄ μΈν„°λ½νΈλ¥Ό μΈν„°λ½νΈ ν”λκ·Έλ΅ λ§‰μ„ μ μλ” κ²ƒμ€ μ•„λ‹λ‹¤.
> - μ •μ „μ΄λ‚ ν•λ“μ›¨μ–΄ κ³ μ¥μΌλ΅ μΈν• μΈν„°λ½νΈμ™€ κ°™μ΄ λ§‰μ„ μ μ—†λ” μΈν„°λ½νΈμ™€, λ§‰μ„ μ μλ” μΈν„°λ½νΈκ°€ μλ‹¤.
{: .prompt-tip}

- `μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄(ISR: Interrupt Service Routine)` : μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•κΈ° μ„ν• ν”„λ΅κ·Έλ¨. `μΈν„°λ½νΈ ν•Έλ“¤λ¬(interrupt handler)`λΌκ³ λ„ λ¶€λ¥Έλ‹¤. μ–΄λ–¤ μΈν„°λ½νΈκ°€ λ°μƒν–μ„ λ• ν•΄λ‹Ή μΈν„°λ½νΈλ¥Ό μ–΄λ–»κ² μ²λ¦¬ν•κ³  μ‘λ™ν•΄μ•Ό ν• μ§€μ— λ€ν• μ •λ³΄λ΅ μ΄λ£¨μ–΄μ§„ ν”„λ΅κ·Έλ¨μ΄λ‹¤.
- `μΈν„°λ½νΈ λ²΅ν„°(interrupt vector)` : μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ μ‹μ‘ μ£Όμ†λ¥Ό ν¬ν•¨ν•λ” μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ μ‹λ³„ μ •λ³΄

> 'CPUκ°€ μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•λ‹¤'λ” λ§μ€ 'μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ„ μ‹¤ν–‰ν•κ³ , λ³Έλ μν–‰ν•λ μ‘μ—…μΌλ΅ λ‹¤μ‹ λλμ•„μ¨λ‹¤'λ” λ§κ³Ό κ°™λ‹¤.
{: .prompt-tip}
