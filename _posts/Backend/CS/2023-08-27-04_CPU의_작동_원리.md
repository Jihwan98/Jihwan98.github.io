---
title: "[CS] Chapter 04. CPU의 작동 원리"
author: JIHWAN PARK
categories: [Backend, CS]
tag: [Backend, CS]
math: true
date: 2023-08-27 17:14:04 +0900
last_modified_at: 2023-08-27 17:14:04 +0900
image: "https://github.com/Jihwan98/Jihwan98.github.io/assets/76936390/4e190150-96b0-438d-b2f2-35cff7fa4ea7"
---
> [혼자 공부하는 컴퓨터 구조 + 운영체제 (한빛미디어 출판, 강민철 지음)](https://www.hanbit.co.kr/store/books/look.php?p_code=B9177037040) 으로 공부한 내용을 정리합니다.
> CS Study를 통해 함께 공부하고 있습니다. [[github repository]](https://github.com/aivle33-dev-study/cs-study)
{: .prompt-info}

## ✅ 04 - 1. ALU와 제어장치

> CPU의 구성 요소 중 ALU와 제어장치를 알아보자.
> 핵심 키워드 : `ALU` `플래그` `제어장치` `제어 신호`
{: .prompt-info}

### ✔️ ALU
![image](/assets/posts/ALU.png)
_ALU가 어떤 정보를 받아들이고 내보내는지를 표현한 그림_

`ALU`는 레지스터를 통해 `피연산자`를 받아들이고, 제어장치로부터 수행할 연산을 알려주는 `제어 신호`를 받아들인다. ALU는 레지스터와 제어장치로부터 받아들인 피연산자와 제어 신호로 산술 연산, 논리 연산 등 다양한 연산을 수행한다.

연산을 수행한 결과
- 특정 숫자, 문자, 메모리 주소

이는 바로 메모리에 저장되지 않고 일시적으로 `레지스터`에 저장된다.

CPU가 메모리에 접근하는 시간은 레지스터에 접근하는 시간보다 훨씬 느리기 때문에 레지스터에 우선 저장한다.

ALU는 계산 결과와 더불어 `플래그(flag)`를 내보낸다. 연산 결과에 대한 추가적인 상태 정보를 의미. ALU가 내보내는 대표적인 플래그는 아래와 같다.

|플래그 종류|의미|사용 예시|
|---|---|---|
|부호 플래그|연산한 결과의 부호를 나타낸다.|1 : 계산 결과가 음수<br>0 : 계산 결과가 양수|
|제로 플래그|연산 결과가 0인지 여부를 나타낸다.|1 : 연산 결과가 0<br>0 : 연산 결과가 0이 아님|
|캐리 플래그|연산 결과 올림수나 빌림수가 발생했는지를 나타낸다.|1 : 올림수나 빌림수가 발생했음<br>0 : 올림수나 빌림수가 발생하지 않았음|
|오버플로우 플래그|오버플로우가 발생했는지를 나타낸다.|1 : 오버플로우가 발생<br>0 : 오버플로우가 발생하지 않음|
|인터럽트 플래그|인터럽트가 가능한지를 나타낸다.|1 : 인터럽트가 가능<br>0 : 인터럽트가 불가능|
|슈퍼바이저 플래그|커널 모드로 실행 중인지, 사용자 모드로 실행 중인지를 나타낸다.|1 : 커널모드로 실행 중<br>0 : 사용자 모드로 실행 중|

플래그들은 `플래그 레지스터`에 저장된다.

### ✔️ 제어장치

- `제어장치`는 제어 신호를 내보내고, 명령어를 해석하는 부품
- `제어 신호`는 컴퓨터 부품들을 관리하고 작동시키기 위한 일종의 전기 신호

제어장치는 CPU의 구성 요소 중 가장 정교하게 설계된 부품

![image](/assets/posts/제어장치.png)
_제어장치가 무엇을 받아들이고, 무엇을 내보내는지 나타내는 그림_

<mark>제어 장치가 받아들이는 정보</mark>
- 클럭
- 명령어
- 플래그
- 제어 신호

1️⃣ 제어장치는 클럭 신호를 받아들인다.
: `클럭(clock)`이란 컴퓨터의 모든 부품을 움직일 수 있게 하는 시간 단위. 클럭의 주기에 맞춰 한 레지스터에서 다른 레지스터로 데이터가 이동되거나, ALU에서 연산이 수행되거나, CPU가 메모리에 저장된 명령어를 읽어 들인다.

2️⃣ 제어장치는 '해석해야 할 명령어'를 받아들인다.
: CPU가 해석해야 할 명령어는 `명령어 레지스터`에 저장된다. 제어장치는 명령어 레지스터로부터 해석할 명령어를 받아들이고 해석한 뒤, 제어 신호를 발생시켜 컴퓨터 부품들에 수행해야 할 내용을 알려준다.

3️⃣ 제어장치는 플래그 레지스터 속 플래그 값을 받아들인다.
: 제어장치는 플래그 값을 받아들이고 이를 참고하여 제어 신호를 발생시킨다.

4️⃣ 제어장치는 시스템 버스, 그중에서 제어 버스로 전달된 제어 신호를 받아들인다.
: 제어 신호는 CPU뿐만 아니라 입출력장치를 비롯한 CPU 외부 장치도 발생시킬 수 있다. 제어 장치는 제어 버스를 통해 외부로부터 전달된 제어 신호를 받아들이기도 한다.

<mark>제어장치가 내보내는 정보</mark>
- CPU 외부에 전달하는 제어 신호
- CPU 내부에 전달하는 제어 신호

**1️⃣ CPU 외부에 전달하는 제어 신호**

`메모리`에 전달하는 제어 신호 : 제어장치가 메모리에 저장된 값을 읽거나 메모리에 새로운 값을 쓰기 위한 제어 신호

`입출력장치(보조기억장치)`로 전달하는 제어 신호 : 제어장치가 입출력장치(보조기억장치)의 값을 읽거나 입출력장치(보조기억장치)에 새로운 값을 쓰기 위한 제어 신호 

**2️⃣ CPU 외부에 전달하는 제어 신호**

`ALU`에 전달하는 제어신호 : 수행할 연산을 지시하기 위한 제어 신호

`레지스터`에 전달하는 제어 신호 : 레지스터 간에 데이터를 이동시키거나 레지스터에 저장된 명령어를 해석하기 위한 제어 신호