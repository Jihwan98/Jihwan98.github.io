---
title:  "[KT Aivle 3기 AI] 4일차. (3) Pandas"
author: JIHWAN PARK
categories: [AI & 데이터분석, AIVLE SCHOOL]
tag: [AIVLE SCHOOL, Python, Python Library, Pandas]
math: true
date: 2023-02-06 20:00:00 +0900
last_modified_at: 2023-02-06 20:00:00 +0900
---


# 1. 개요
KT Aivle School 3기 AI 4일차 
- 주제 : Pandas
- 강사 : 한기영 강사님
- 내용 : Python Library 중 하나인 Pandas에 대하여 설명해주셨다. 대학교에서 수업 때 배운 적이 있어 수월하게 배울 수 있었다. 이전에 내가 정리해놓은 것과 함께 이번 수업내용을 토대로 Pandas에 대해 정리해보려 한다.

# 2. Pandas
- 구조화된 데이터 처리를 지원하는 Python 라이브러리
- 고성능 array 계산 라이브러리인 Numpy와 통합하여, 강력한 **스프레드시트**처리 기능을 제공
- 인덱싱, 연산용 함수, 전처리 함수 등을 제공함
- 데이터 처리 및 통계 분석을 위해 사용


## 1) Series
- 하나의 정보에 대한 데이터들의 집합
- index가 추가된 numpy
- 데이터 프레임에서 하나의 열을 떼어낸 것.(1차원)


```python
from pandas import Series, DataFrame
import pandas as pd
import numpy as np

list_data = [1,2,3,4,5]
example_obj = Series(data = list_data)
example_obj
```




    0    1
    1    2
    2    3
    3    4
    4    5
    dtype: int64




```python
list_data = [1,2,3,4,5]
list_name = ["a","b","c","d","e"]
example_obj = Series(data = list_data, index = list_name)
example_obj
```




    a    1
    b    2
    c    3
    d    4
    e    5
    dtype: int64




```python
dic_data = {"a":1 , "b":2, "c":3, "d":4, "e":5}
example_obj = Series(dic_data, dtype=np.float32, name="example_data")
example_obj
```




    a    1.0
    b    2.0
    c    3.0
    d    4.0
    e    5.0
    Name: example_data, dtype: float32




```python
example_obj["a"]
```




    1.0




```python
example_obj.values
```




    array([1., 2., 3., 4., 5.], dtype=float32)




```python
example_obj.index
```




    Index(['a', 'b', 'c', 'd', 'e'], dtype='object')




```python
example_obj.name = "number"
example_obj.index.name = "alphabet"
example_obj
```




    alphabet
    a    1.0
    b    2.0
    c    3.0
    d    4.0
    e    5.0
    Name: number, dtype: float32



## 2) DataFrame
- 데이터 분석에서 가장 중요한 데이터 구조
- 관계형 데이터베이스의 테이블 또는 엑셀 시트와 같은 형태(2차원 구조)
- 변수들의 집합 -> 각 열을 변수라고 부름
- 행 -> 의미 : 분석단위, 다른 말로 : 관측치, 샘플
- 열 -> 의미 : 정보, 다른 말로 : 변수(feature, target)
- Pandas 사용 목적이 데이터프레임을 사용하기 위한 목적으로 봐도 된다.
- 데이터를 처리, 조회, 분석하는 가장 효율적인 방법이 데이터프레임을 사용하는 것
- 일반적으로 접하게 되는 **테이블** 형태, **엑셀** 형태로 생각하면 된다.
- 직접 만들 수 있으나 보통은 **csv 파일**, **엑셀 파일** 또는 DB에서 온다.


### (1) DataFrame 생성


```python
raw_data = {'first_name': ['Jason', 'Molly', 'Tina', 'Jake', 'Amy'],
      'last_name': ['Miller', 'Jacobson', 'Ali', 'Milner', 'Cooze'],
      'age': [42, 52, 36, 24, 73],
      'city': ['San Francisco', 'Baltimore', 'Miami', 'Douglas', 'Boston']}
df = pd.DataFrame(raw_data, columns = ['first_name', 'last_name', 'age', 'city'])
df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>first_name</th>
      <th>last_name</th>
      <th>age</th>
      <th>city</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jason</td>
      <td>Miller</td>
      <td>42</td>
      <td>San Francisco</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Molly</td>
      <td>Jacobson</td>
      <td>52</td>
      <td>Baltimore</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tina</td>
      <td>Ali</td>
      <td>36</td>
      <td>Miami</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jake</td>
      <td>Milner</td>
      <td>24</td>
      <td>Douglas</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Amy</td>
      <td>Cooze</td>
      <td>73</td>
      <td>Boston</td>
    </tr>
  </tbody>
</table>
</div>



### (2) CSV파일 읽어오기
#### [1] csv 파일로 부터 가져오기


```python
# 데이터 읽어오기
data = pd.read_csv('airquality_simple.csv')  

# 상위 3행만 확인
data.head(3)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Ozone</th>
      <th>Solar.R</th>
      <th>Wind</th>
      <th>Temp</th>
      <th>Month</th>
      <th>Day</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>41</td>
      <td>190.0</td>
      <td>7.4</td>
      <td>67</td>
      <td>5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>36</td>
      <td>118.0</td>
      <td>8.0</td>
      <td>72</td>
      <td>5</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>12</td>
      <td>149.0</td>
      <td>12.6</td>
      <td>74</td>
      <td>5</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>



#### [2] url로 가져오기


```python
# 데이터 읽어오기
path = 'https://raw.githubusercontent.com/DA4BAM/dataset/master/Attrition_simple2.CSV'
data = pd.read_csv(path)  

# 상위 3개 확인
data.head(3)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
    </tr>
  </tbody>
</table>
</div>



### (3) DataFrame 탐색
- 파일에서 불러온 데이터의 크기, 내용, 분포, 누락된 값 등을 확인
- 확인된 내용을 통해 데이터 전처리 필요 여부를 결정
- 데이터를 알아야 데이터를 분석할 수 있다!

**[참고] 자주 사용할 만한 메서드들**

- head(): 상위 데이터 확인
- tail(): 하위 데이터 확인
- shape: 데이터프레임 크기
- index: 인덱스 정보 확인
- values: 값 정보 확인
- columns: 열 정보 확인
- dtypes: 열 자료형 확인
- info(): 열에 대한 상세한 정보 확인
- describe(): 기초통계정보 확인

#### [1] 상위, 하위 일부 데이터, 크기 확인
- `head(n)`, `tail(n)` 메소드를 사용해 앞 뒤 데이터를 확인
- 개수를 지정하지 않으면 기본적으로 5개 행이 조회 됨

##### 1) 상위 데이터 확인


```python
data.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>



##### 2) 하위 데이터 확인


```python
data.tail(3)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1193</th>
      <td>0</td>
      <td>29</td>
      <td>9</td>
      <td>1558</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>2451</td>
      <td>No</td>
      <td>18</td>
      <td>5</td>
    </tr>
    <tr>
      <th>1194</th>
      <td>0</td>
      <td>29</td>
      <td>2</td>
      <td>469</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>4649</td>
      <td>No</td>
      <td>14</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>0</td>
      <td>43</td>
      <td>16</td>
      <td>327</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>16064</td>
      <td>Yes</td>
      <td>22</td>
      <td>22</td>
    </tr>
  </tbody>
</table>
</div>



##### 3) 크기 확인 .shape
- (rows, cols) 값을 갖는 튜플 형태로 확인이 가능
- 데이터를 분석할 때 처리할 데이터 양을 확인하는 목적으로 많이 사용


```python
data.shape
```




    (1196, 11)



#### [2] 열, 행 정보 보기
##### 1) 열 확인


```python
print(data.columns)
print()
print(data.columns.values) # np array 형태
```

    Index(['Attrition', 'Age', 'DistanceFromHome', 'EmployeeNumber', 'Gender',
           'JobSatisfaction', 'MaritalStatus', 'MonthlyIncome', 'OverTime',
           'PercentSalaryHike', 'TotalWorkingYears'],
          dtype='object')
    
    ['Attrition' 'Age' 'DistanceFromHome' 'EmployeeNumber' 'Gender'
     'JobSatisfaction' 'MaritalStatus' 'MonthlyIncome' 'OverTime'
     'PercentSalaryHike' 'TotalWorkingYears']
    


```python
# 데이터프레임을 리스트 함수에 넣으면 열 이름이 리스트로 반환됨.
list(data)
```




    ['Attrition',
     'Age',
     'DistanceFromHome',
     'EmployeeNumber',
     'Gender',
     'JobSatisfaction',
     'MaritalStatus',
     'MonthlyIncome',
     'OverTime',
     'PercentSalaryHike',
     'TotalWorkingYears']



##### 2) 자료형 확인
- int64: 정수형 데이터(int)
- float64: 실수형 데이터(float)
- object: 문자열 데이터(string)


```python
data.dtypes
```




    Attrition             int64
    Age                   int64
    DistanceFromHome      int64
    EmployeeNumber        int64
    Gender               object
    JobSatisfaction       int64
    MaritalStatus        object
    MonthlyIncome         int64
    OverTime             object
    PercentSalaryHike     int64
    TotalWorkingYears     int64
    dtype: object




```python
# 열 자료형, 값 개수 확인
data.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 1196 entries, 0 to 1195
    Data columns (total 11 columns):
     #   Column             Non-Null Count  Dtype 
    ---  ------             --------------  ----- 
     0   Attrition          1196 non-null   int64 
     1   Age                1196 non-null   int64 
     2   DistanceFromHome   1196 non-null   int64 
     3   EmployeeNumber     1196 non-null   int64 
     4   Gender             1196 non-null   object
     5   JobSatisfaction    1196 non-null   int64 
     6   MaritalStatus      1196 non-null   object
     7   MonthlyIncome      1196 non-null   int64 
     8   OverTime           1196 non-null   object
     9   PercentSalaryHike  1196 non-null   int64 
     10  TotalWorkingYears  1196 non-null   int64 
    dtypes: int64(8), object(3)
    memory usage: 102.9+ KB
    

##### 3) 기초통계정보 확인
- describe() 메소드는 데이터에 대한 많은 정보를 제공하는 매우 중요한 메소드이다.
- 개수(count), 평균(mean), 표준편차(std), 최솟값(min), 사분위값(25%, 50%, 75%), 최댓값(max)을 표시한다.


```python
data.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>JobSatisfaction</th>
      <th>MonthlyIncome</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1196.000000</td>
      <td>1196.00000</td>
      <td>1196.000000</td>
      <td>1196.000000</td>
      <td>1196.000000</td>
      <td>1196.000000</td>
      <td>1196.000000</td>
      <td>1196.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.163043</td>
      <td>36.94398</td>
      <td>9.258361</td>
      <td>1035.629599</td>
      <td>2.716555</td>
      <td>6520.104515</td>
      <td>15.251672</td>
      <td>11.330268</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.369560</td>
      <td>9.09270</td>
      <td>8.166016</td>
      <td>604.340130</td>
      <td>1.110962</td>
      <td>4665.902253</td>
      <td>3.625946</td>
      <td>7.823821</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>18.00000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1009.000000</td>
      <td>11.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.000000</td>
      <td>30.00000</td>
      <td>2.000000</td>
      <td>507.750000</td>
      <td>2.000000</td>
      <td>2928.250000</td>
      <td>12.000000</td>
      <td>6.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.000000</td>
      <td>36.00000</td>
      <td>7.000000</td>
      <td>1028.000000</td>
      <td>3.000000</td>
      <td>4973.500000</td>
      <td>14.000000</td>
      <td>10.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.000000</td>
      <td>43.00000</td>
      <td>14.000000</td>
      <td>1581.250000</td>
      <td>4.000000</td>
      <td>8420.500000</td>
      <td>18.000000</td>
      <td>15.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.000000</td>
      <td>60.00000</td>
      <td>29.000000</td>
      <td>2068.000000</td>
      <td>4.000000</td>
      <td>19999.000000</td>
      <td>25.000000</td>
      <td>40.000000</td>
    </tr>
  </tbody>
</table>
</div>



- 일부 열에 대해서만 기초통계정보를 확인할 수 있다.


```python
print(data[['Age', 'MonthlyIncome']].describe())
```

                  Age  MonthlyIncome
    count  1196.00000    1196.000000
    mean     36.94398    6520.104515
    std       9.09270    4665.902253
    min      18.00000    1009.000000
    25%      30.00000    2928.250000
    50%      36.00000    4973.500000
    75%      43.00000    8420.500000
    max      60.00000   19999.000000
    

#### [3] 정렬해서 보기
- 인덱스를 기준으로 정렬하는 방법과 특정 열을 기준으로 정렬하는 방법이 있다.
- **sort_values()** 메소드로 **특정 열**을 기준으로 정렬.
- **ascending** 옵션을 설정해 오름차순, 내림차순을 설정할 수 있다.
    - ascending=True: 오름차순 정렬(기본값)
    - ascending=False: 내림차순 정렬


```python
data.sort_values(by='MonthlyIncome', ascending=False)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>240</th>
      <td>0</td>
      <td>52</td>
      <td>1</td>
      <td>259</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>19999</td>
      <td>No</td>
      <td>14</td>
      <td>34</td>
    </tr>
    <tr>
      <th>234</th>
      <td>0</td>
      <td>41</td>
      <td>7</td>
      <td>1035</td>
      <td>Female</td>
      <td>3</td>
      <td>Divorced</td>
      <td>19973</td>
      <td>No</td>
      <td>22</td>
      <td>21</td>
    </tr>
    <tr>
      <th>322</th>
      <td>0</td>
      <td>56</td>
      <td>4</td>
      <td>1191</td>
      <td>Female</td>
      <td>1</td>
      <td>Divorced</td>
      <td>19943</td>
      <td>No</td>
      <td>13</td>
      <td>28</td>
    </tr>
    <tr>
      <th>530</th>
      <td>0</td>
      <td>50</td>
      <td>11</td>
      <td>226</td>
      <td>Female</td>
      <td>2</td>
      <td>Single</td>
      <td>19926</td>
      <td>No</td>
      <td>15</td>
      <td>21</td>
    </tr>
    <tr>
      <th>532</th>
      <td>1</td>
      <td>55</td>
      <td>2</td>
      <td>787</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>19859</td>
      <td>Yes</td>
      <td>13</td>
      <td>24</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>150</th>
      <td>1</td>
      <td>29</td>
      <td>24</td>
      <td>1928</td>
      <td>Male</td>
      <td>1</td>
      <td>Single</td>
      <td>1091</td>
      <td>No</td>
      <td>17</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1118</th>
      <td>1</td>
      <td>30</td>
      <td>9</td>
      <td>1876</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>1081</td>
      <td>No</td>
      <td>13</td>
      <td>1</td>
    </tr>
    <tr>
      <th>709</th>
      <td>0</td>
      <td>28</td>
      <td>10</td>
      <td>1056</td>
      <td>Male</td>
      <td>2</td>
      <td>Married</td>
      <td>1052</td>
      <td>No</td>
      <td>22</td>
      <td>1</td>
    </tr>
    <tr>
      <th>862</th>
      <td>0</td>
      <td>18</td>
      <td>5</td>
      <td>1012</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>1051</td>
      <td>No</td>
      <td>15</td>
      <td>0</td>
    </tr>
    <tr>
      <th>91</th>
      <td>1</td>
      <td>20</td>
      <td>10</td>
      <td>701</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>1009</td>
      <td>Yes</td>
      <td>11</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>1196 rows × 11 columns</p>
</div>




```python
# 복합 열 정렬
data.sort_values(by=['JobSatisfaction', 'MonthlyIncome'], ascending=[True, False])
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>322</th>
      <td>0</td>
      <td>56</td>
      <td>4</td>
      <td>1191</td>
      <td>Female</td>
      <td>1</td>
      <td>Divorced</td>
      <td>19943</td>
      <td>No</td>
      <td>13</td>
      <td>28</td>
    </tr>
    <tr>
      <th>532</th>
      <td>1</td>
      <td>55</td>
      <td>2</td>
      <td>787</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>19859</td>
      <td>Yes</td>
      <td>13</td>
      <td>24</td>
    </tr>
    <tr>
      <th>273</th>
      <td>0</td>
      <td>58</td>
      <td>1</td>
      <td>1423</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>19701</td>
      <td>Yes</td>
      <td>21</td>
      <td>32</td>
    </tr>
    <tr>
      <th>418</th>
      <td>0</td>
      <td>60</td>
      <td>7</td>
      <td>549</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>19566</td>
      <td>No</td>
      <td>11</td>
      <td>33</td>
    </tr>
    <tr>
      <th>685</th>
      <td>0</td>
      <td>54</td>
      <td>5</td>
      <td>522</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>19406</td>
      <td>No</td>
      <td>11</td>
      <td>24</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>197</th>
      <td>0</td>
      <td>31</td>
      <td>2</td>
      <td>1974</td>
      <td>Female</td>
      <td>4</td>
      <td>Divorced</td>
      <td>1129</td>
      <td>Yes</td>
      <td>11</td>
      <td>1</td>
    </tr>
    <tr>
      <th>386</th>
      <td>1</td>
      <td>25</td>
      <td>24</td>
      <td>1273</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>1118</td>
      <td>Yes</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>684</th>
      <td>1</td>
      <td>19</td>
      <td>2</td>
      <td>243</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>1102</td>
      <td>No</td>
      <td>22</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1118</th>
      <td>1</td>
      <td>30</td>
      <td>9</td>
      <td>1876</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>1081</td>
      <td>No</td>
      <td>13</td>
      <td>1</td>
    </tr>
    <tr>
      <th>862</th>
      <td>0</td>
      <td>18</td>
      <td>5</td>
      <td>1012</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>1051</td>
      <td>No</td>
      <td>15</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>1196 rows × 11 columns</p>
</div>




```python
# 복합 열 정렬 : 별도로 저장하고, 인덱스 reset
temp = data.sort_values(by=['JobSatisfaction', 'MonthlyIncome'], ascending=[True, False])
temp.reset_index(drop = True)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>56</td>
      <td>4</td>
      <td>1191</td>
      <td>Female</td>
      <td>1</td>
      <td>Divorced</td>
      <td>19943</td>
      <td>No</td>
      <td>13</td>
      <td>28</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>55</td>
      <td>2</td>
      <td>787</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>19859</td>
      <td>Yes</td>
      <td>13</td>
      <td>24</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>58</td>
      <td>1</td>
      <td>1423</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>19701</td>
      <td>Yes</td>
      <td>21</td>
      <td>32</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>60</td>
      <td>7</td>
      <td>549</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>19566</td>
      <td>No</td>
      <td>11</td>
      <td>33</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>54</td>
      <td>5</td>
      <td>522</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>19406</td>
      <td>No</td>
      <td>11</td>
      <td>24</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1191</th>
      <td>0</td>
      <td>31</td>
      <td>2</td>
      <td>1974</td>
      <td>Female</td>
      <td>4</td>
      <td>Divorced</td>
      <td>1129</td>
      <td>Yes</td>
      <td>11</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>1</td>
      <td>25</td>
      <td>24</td>
      <td>1273</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>1118</td>
      <td>Yes</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1193</th>
      <td>1</td>
      <td>19</td>
      <td>2</td>
      <td>243</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>1102</td>
      <td>No</td>
      <td>22</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1194</th>
      <td>1</td>
      <td>30</td>
      <td>9</td>
      <td>1876</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>1081</td>
      <td>No</td>
      <td>13</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>0</td>
      <td>18</td>
      <td>5</td>
      <td>1012</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>1051</td>
      <td>No</td>
      <td>15</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>1196 rows × 11 columns</p>
</div>



#### [4] 기본 집계
- 데이터를 좀 더 이해하기 위해 고유값, 합, 평균, 최댓값, 최솟값 등을 확인.
##### 1) 고유값 확인
- 범주형 열(열이 가진 값이 일정한 경우, 성별, 등급 등)인지 확인할 때 사용.

**고유값 확인**
- `unique()` 메소드로 고유값을 확인하며, 결과값은 배열 형태


```python
# MaritalStatus 열 고유값 확인
print(data['MaritalStatus'].unique())
```

    ['Married' 'Single' 'Divorced']
    

**고유값과 개수 확인**
- value_counts() 메소드로 고유값과 그 개수를 확인하며, 결과값은 시리즈 형태


```python
# MaritalStatus 열 고유값 개수 확인
print(data['MaritalStatus'].value_counts())
```

    Married     548
    Single      384
    Divorced    264
    Name: MaritalStatus, dtype: int64
    

##### 2) 기본 집계 메소드 사용
- 데이터를 1차 집계 한 후 분석을 진행하는 경우가 많으므로 필히 알아두어야 하는 내용
- 이후에 배우는 Groupby 기능에서 같이 사용됨


```python
# MonthlyIncome 열 합계 조회
print(data['MonthlyIncome'].sum())
```

    7798045
    


```python
# MonthlyIncome 열 최댓값 조회
print(data['MonthlyIncome'].max())
```

    19999
    


```python
# 'Age', 'MonthlyIncome' 열 평균값 확인
print(data[['Age', 'MonthlyIncome']].mean())
```

    Age                36.943980
    MonthlyIncome    6520.104515
    dtype: float64
    


```python
# 'Age', 'MonthlyIncome' 열 중앙값 확인
print(data[['Age', 'MonthlyIncome']].median())
```

    Age                36.0
    MonthlyIncome    4973.5
    dtype: float64
    

### (4) DataFrame 조회
- 보고자 하는 데이터를 즉시 조회할 수 있도록 반복 학습과 실습을 통해 익숙해져야 함
- 데이터프레임을 대상으로 조회하는 방법은 다양하다.
- 그 중 한가지 방법을 선택해 일관되게 사용하기를 권고

#### [1] 특정 열 조회
- df.loc[:, [열 이름1, 열 이름2, ... ]] 형태로 조회할 열 이름을 리스트로 지정
- 열부분은 생략할 수 있지만, **행 부분을 생략할 수는 없다.**
- 하지만 df[[열 이름1, 열 이름2, ...]] 형태로 인덱서를 생략함이 일반적이다.
- 조회할 열이 하나면 리스트 형태가 아니어도 된다.


```python
# Attrition 열 조회 : 시리즈로 조회 (조금 더 권장하는 방법)
data['Attrition']
```




    0       0
    1       0
    2       0
    3       0
    4       1
           ..
    1191    0
    1192    0
    1193    0
    1194    0
    1195    0
    Name: Attrition, Length: 1196, dtype: int64




```python
# Attrition 열 조회2 : 시리즈로 조회 (오류 발생 가능성 있음)
data.Attrition
```




    0       0
    1       0
    2       0
    3       0
    4       1
           ..
    1191    0
    1192    0
    1193    0
    1194    0
    1195    0
    Name: Attrition, Length: 1196, dtype: int64




```python
# Attrition, Age 열 조회 : 데이터프레임으로 조회
# 대괄호 안에 리스트!!!
data[['Attrition', 'Age' ]]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1191</th>
      <td>0</td>
      <td>32</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>0</td>
      <td>27</td>
    </tr>
    <tr>
      <th>1193</th>
      <td>0</td>
      <td>29</td>
    </tr>
    <tr>
      <th>1194</th>
      <td>0</td>
      <td>29</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>0</td>
      <td>43</td>
    </tr>
  </tbody>
</table>
<p>1196 rows × 2 columns</p>
</div>



#### [2] 조건으로 조회
- df.loc[조건] 형태로 조건을 지정해 조건에 만족하는 데이터만 조회할 수 있다.
- 우선 조건이 제대로 판단이 되는지 확인한 후, 그 조건을 대괄호 안에 넣으면 된다.

##### 1) 단일 조건 조회


```python
# 조건절(조건문)의 결과는 True, False
data['DistanceFromHome'] > 10
```




    0       False
    1        True
    2       False
    3       False
    4       False
            ...  
    1191    False
    1192     True
    1193    False
    1194    False
    1195     True
    Name: DistanceFromHome, Length: 1196, dtype: bool




```python
# DistanceFromHome 열 값이 10 보다 큰 행 조회
data.loc[data['DistanceFromHome'] > 10]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>24</td>
      <td>21</td>
      <td>1551</td>
      <td>Male</td>
      <td>1</td>
      <td>Divorced</td>
      <td>2296</td>
      <td>No</td>
      <td>14</td>
      <td>2</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>30</td>
      <td>20</td>
      <td>1084</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>9957</td>
      <td>No</td>
      <td>15</td>
      <td>7</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1</td>
      <td>33</td>
      <td>15</td>
      <td>582</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>13610</td>
      <td>Yes</td>
      <td>12</td>
      <td>15</td>
    </tr>
    <tr>
      <th>15</th>
      <td>0</td>
      <td>34</td>
      <td>23</td>
      <td>60</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>4568</td>
      <td>No</td>
      <td>20</td>
      <td>10</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1181</th>
      <td>0</td>
      <td>35</td>
      <td>28</td>
      <td>1596</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>3407</td>
      <td>No</td>
      <td>17</td>
      <td>10</td>
    </tr>
    <tr>
      <th>1186</th>
      <td>1</td>
      <td>26</td>
      <td>20</td>
      <td>1818</td>
      <td>Female</td>
      <td>2</td>
      <td>Married</td>
      <td>2148</td>
      <td>Yes</td>
      <td>11</td>
      <td>6</td>
    </tr>
    <tr>
      <th>1188</th>
      <td>0</td>
      <td>29</td>
      <td>19</td>
      <td>1497</td>
      <td>Male</td>
      <td>3</td>
      <td>Divorced</td>
      <td>8620</td>
      <td>No</td>
      <td>14</td>
      <td>10</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>0</td>
      <td>27</td>
      <td>19</td>
      <td>1619</td>
      <td>Male</td>
      <td>1</td>
      <td>Divorced</td>
      <td>4066</td>
      <td>No</td>
      <td>11</td>
      <td>7</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>0</td>
      <td>43</td>
      <td>16</td>
      <td>327</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>16064</td>
      <td>Yes</td>
      <td>22</td>
      <td>22</td>
    </tr>
  </tbody>
</table>
<p>363 rows × 11 columns</p>
</div>



##### 2) 여러 조건 조회


```python
# and로 여러 조건 연결
data.loc[(data['DistanceFromHome'] > 10) & (data['JobSatisfaction'] == 4)]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>50</th>
      <td>0</td>
      <td>29</td>
      <td>15</td>
      <td>346</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>2340</td>
      <td>No</td>
      <td>19</td>
      <td>6</td>
    </tr>
    <tr>
      <th>51</th>
      <td>0</td>
      <td>45</td>
      <td>28</td>
      <td>1546</td>
      <td>Male</td>
      <td>4</td>
      <td>Married</td>
      <td>2132</td>
      <td>No</td>
      <td>20</td>
      <td>8</td>
    </tr>
    <tr>
      <th>64</th>
      <td>0</td>
      <td>32</td>
      <td>15</td>
      <td>1955</td>
      <td>Female</td>
      <td>4</td>
      <td>Divorced</td>
      <td>6667</td>
      <td>No</td>
      <td>18</td>
      <td>9</td>
    </tr>
    <tr>
      <th>82</th>
      <td>1</td>
      <td>35</td>
      <td>12</td>
      <td>1667</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>4581</td>
      <td>Yes</td>
      <td>24</td>
      <td>13</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1104</th>
      <td>0</td>
      <td>34</td>
      <td>19</td>
      <td>1701</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>2929</td>
      <td>No</td>
      <td>12</td>
      <td>10</td>
    </tr>
    <tr>
      <th>1126</th>
      <td>0</td>
      <td>35</td>
      <td>11</td>
      <td>1137</td>
      <td>Male</td>
      <td>4</td>
      <td>Divorced</td>
      <td>4968</td>
      <td>No</td>
      <td>11</td>
      <td>5</td>
    </tr>
    <tr>
      <th>1141</th>
      <td>1</td>
      <td>49</td>
      <td>11</td>
      <td>840</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>7654</td>
      <td>No</td>
      <td>18</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1148</th>
      <td>0</td>
      <td>36</td>
      <td>18</td>
      <td>1133</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>7779</td>
      <td>No</td>
      <td>20</td>
      <td>18</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>0</td>
      <td>43</td>
      <td>16</td>
      <td>327</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>16064</td>
      <td>Yes</td>
      <td>22</td>
      <td>22</td>
    </tr>
  </tbody>
</table>
<p>107 rows × 11 columns</p>
</div>




```python
# or 조건 : |
data.loc[(data['DistanceFromHome'] > 10) | (data['JobSatisfaction'] == 4)]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>24</td>
      <td>21</td>
      <td>1551</td>
      <td>Male</td>
      <td>1</td>
      <td>Divorced</td>
      <td>2296</td>
      <td>No</td>
      <td>14</td>
      <td>2</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>30</td>
      <td>20</td>
      <td>1084</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>9957</td>
      <td>No</td>
      <td>15</td>
      <td>7</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0</td>
      <td>26</td>
      <td>6</td>
      <td>686</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>2659</td>
      <td>Yes</td>
      <td>13</td>
      <td>3</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1</td>
      <td>33</td>
      <td>15</td>
      <td>582</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>13610</td>
      <td>Yes</td>
      <td>12</td>
      <td>15</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1186</th>
      <td>1</td>
      <td>26</td>
      <td>20</td>
      <td>1818</td>
      <td>Female</td>
      <td>2</td>
      <td>Married</td>
      <td>2148</td>
      <td>Yes</td>
      <td>11</td>
      <td>6</td>
    </tr>
    <tr>
      <th>1188</th>
      <td>0</td>
      <td>29</td>
      <td>19</td>
      <td>1497</td>
      <td>Male</td>
      <td>3</td>
      <td>Divorced</td>
      <td>8620</td>
      <td>No</td>
      <td>14</td>
      <td>10</td>
    </tr>
    <tr>
      <th>1190</th>
      <td>0</td>
      <td>27</td>
      <td>5</td>
      <td>844</td>
      <td>Male</td>
      <td>4</td>
      <td>Divorced</td>
      <td>12808</td>
      <td>Yes</td>
      <td>16</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>0</td>
      <td>27</td>
      <td>19</td>
      <td>1619</td>
      <td>Male</td>
      <td>1</td>
      <td>Divorced</td>
      <td>4066</td>
      <td>No</td>
      <td>11</td>
      <td>7</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>0</td>
      <td>43</td>
      <td>16</td>
      <td>327</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>16064</td>
      <td>Yes</td>
      <td>22</td>
      <td>22</td>
    </tr>
  </tbody>
</table>
<p>629 rows × 11 columns</p>
</div>



##### 3) `isin()`, `between()`
- `isin([값1, 값2, ..., 값n])` : 값1 또는 값2 또는 .. 값n 인 데이터만 조회
- 주의 : `isin(리스트)` 값들을 리스트 형태로 입력해야 한다.


```python
# 값 나열
data.loc[data['JobSatisfaction'].isin([1,4])]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>24</td>
      <td>21</td>
      <td>1551</td>
      <td>Male</td>
      <td>1</td>
      <td>Divorced</td>
      <td>2296</td>
      <td>No</td>
      <td>14</td>
      <td>2</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>30</td>
      <td>20</td>
      <td>1084</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>9957</td>
      <td>No</td>
      <td>15</td>
      <td>7</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1184</th>
      <td>0</td>
      <td>33</td>
      <td>5</td>
      <td>1395</td>
      <td>Male</td>
      <td>4</td>
      <td>Married</td>
      <td>9998</td>
      <td>No</td>
      <td>13</td>
      <td>8</td>
    </tr>
    <tr>
      <th>1185</th>
      <td>0</td>
      <td>24</td>
      <td>10</td>
      <td>1746</td>
      <td>Male</td>
      <td>4</td>
      <td>Married</td>
      <td>2145</td>
      <td>No</td>
      <td>14</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1190</th>
      <td>0</td>
      <td>27</td>
      <td>5</td>
      <td>844</td>
      <td>Male</td>
      <td>4</td>
      <td>Divorced</td>
      <td>12808</td>
      <td>Yes</td>
      <td>16</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>0</td>
      <td>27</td>
      <td>19</td>
      <td>1619</td>
      <td>Male</td>
      <td>1</td>
      <td>Divorced</td>
      <td>4066</td>
      <td>No</td>
      <td>11</td>
      <td>7</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>0</td>
      <td>43</td>
      <td>16</td>
      <td>327</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>16064</td>
      <td>Yes</td>
      <td>22</td>
      <td>22</td>
    </tr>
  </tbody>
</table>
<p>616 rows × 11 columns</p>
</div>



- 위 구문은 다음과 같은 의미를 갖는다.


```python
# or 조건
data.loc[(data['JobSatisfaction'] == 1) | (data['JobSatisfaction'] == 4)]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>24</td>
      <td>21</td>
      <td>1551</td>
      <td>Male</td>
      <td>1</td>
      <td>Divorced</td>
      <td>2296</td>
      <td>No</td>
      <td>14</td>
      <td>2</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>30</td>
      <td>20</td>
      <td>1084</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>9957</td>
      <td>No</td>
      <td>15</td>
      <td>7</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1184</th>
      <td>0</td>
      <td>33</td>
      <td>5</td>
      <td>1395</td>
      <td>Male</td>
      <td>4</td>
      <td>Married</td>
      <td>9998</td>
      <td>No</td>
      <td>13</td>
      <td>8</td>
    </tr>
    <tr>
      <th>1185</th>
      <td>0</td>
      <td>24</td>
      <td>10</td>
      <td>1746</td>
      <td>Male</td>
      <td>4</td>
      <td>Married</td>
      <td>2145</td>
      <td>No</td>
      <td>14</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1190</th>
      <td>0</td>
      <td>27</td>
      <td>5</td>
      <td>844</td>
      <td>Male</td>
      <td>4</td>
      <td>Divorced</td>
      <td>12808</td>
      <td>Yes</td>
      <td>16</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>0</td>
      <td>27</td>
      <td>19</td>
      <td>1619</td>
      <td>Male</td>
      <td>1</td>
      <td>Divorced</td>
      <td>4066</td>
      <td>No</td>
      <td>11</td>
      <td>7</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>0</td>
      <td>43</td>
      <td>16</td>
      <td>327</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>16064</td>
      <td>Yes</td>
      <td>22</td>
      <td>22</td>
    </tr>
  </tbody>
</table>
<p>616 rows × 11 columns</p>
</div>



- `between(값1, 값2)` : 값1 ~ 값2 까지 범위안의 데이터만 조회


```python
# 범위 지정
data.loc[data['Age'].between(25, 30)]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>30</td>
      <td>20</td>
      <td>1084</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>9957</td>
      <td>No</td>
      <td>15</td>
      <td>7</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0</td>
      <td>26</td>
      <td>6</td>
      <td>686</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>2659</td>
      <td>Yes</td>
      <td>13</td>
      <td>3</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0</td>
      <td>30</td>
      <td>5</td>
      <td>197</td>
      <td>Female</td>
      <td>1</td>
      <td>Divorced</td>
      <td>3204</td>
      <td>No</td>
      <td>14</td>
      <td>8</td>
    </tr>
    <tr>
      <th>28</th>
      <td>0</td>
      <td>26</td>
      <td>1</td>
      <td>1893</td>
      <td>Female</td>
      <td>3</td>
      <td>Married</td>
      <td>2933</td>
      <td>Yes</td>
      <td>13</td>
      <td>1</td>
    </tr>
    <tr>
      <th>32</th>
      <td>0</td>
      <td>30</td>
      <td>7</td>
      <td>1224</td>
      <td>Male</td>
      <td>3</td>
      <td>Divorced</td>
      <td>3491</td>
      <td>No</td>
      <td>13</td>
      <td>10</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1188</th>
      <td>0</td>
      <td>29</td>
      <td>19</td>
      <td>1497</td>
      <td>Male</td>
      <td>3</td>
      <td>Divorced</td>
      <td>8620</td>
      <td>No</td>
      <td>14</td>
      <td>10</td>
    </tr>
    <tr>
      <th>1190</th>
      <td>0</td>
      <td>27</td>
      <td>5</td>
      <td>844</td>
      <td>Male</td>
      <td>4</td>
      <td>Divorced</td>
      <td>12808</td>
      <td>Yes</td>
      <td>16</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>0</td>
      <td>27</td>
      <td>19</td>
      <td>1619</td>
      <td>Male</td>
      <td>1</td>
      <td>Divorced</td>
      <td>4066</td>
      <td>No</td>
      <td>11</td>
      <td>7</td>
    </tr>
    <tr>
      <th>1193</th>
      <td>0</td>
      <td>29</td>
      <td>9</td>
      <td>1558</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>2451</td>
      <td>No</td>
      <td>18</td>
      <td>5</td>
    </tr>
    <tr>
      <th>1194</th>
      <td>0</td>
      <td>29</td>
      <td>2</td>
      <td>469</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>4649</td>
      <td>No</td>
      <td>14</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
<p>238 rows × 11 columns</p>
</div>



- 위 구문은 다음과 같은 의미를 갖는다.


```python
# and 조건
data.loc[(data['Age'] >= 25) & (data['Age'] <= 30)]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>30</td>
      <td>20</td>
      <td>1084</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>9957</td>
      <td>No</td>
      <td>15</td>
      <td>7</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0</td>
      <td>26</td>
      <td>6</td>
      <td>686</td>
      <td>Female</td>
      <td>4</td>
      <td>Married</td>
      <td>2659</td>
      <td>Yes</td>
      <td>13</td>
      <td>3</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0</td>
      <td>30</td>
      <td>5</td>
      <td>197</td>
      <td>Female</td>
      <td>1</td>
      <td>Divorced</td>
      <td>3204</td>
      <td>No</td>
      <td>14</td>
      <td>8</td>
    </tr>
    <tr>
      <th>28</th>
      <td>0</td>
      <td>26</td>
      <td>1</td>
      <td>1893</td>
      <td>Female</td>
      <td>3</td>
      <td>Married</td>
      <td>2933</td>
      <td>Yes</td>
      <td>13</td>
      <td>1</td>
    </tr>
    <tr>
      <th>32</th>
      <td>0</td>
      <td>30</td>
      <td>7</td>
      <td>1224</td>
      <td>Male</td>
      <td>3</td>
      <td>Divorced</td>
      <td>3491</td>
      <td>No</td>
      <td>13</td>
      <td>10</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1188</th>
      <td>0</td>
      <td>29</td>
      <td>19</td>
      <td>1497</td>
      <td>Male</td>
      <td>3</td>
      <td>Divorced</td>
      <td>8620</td>
      <td>No</td>
      <td>14</td>
      <td>10</td>
    </tr>
    <tr>
      <th>1190</th>
      <td>0</td>
      <td>27</td>
      <td>5</td>
      <td>844</td>
      <td>Male</td>
      <td>4</td>
      <td>Divorced</td>
      <td>12808</td>
      <td>Yes</td>
      <td>16</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1192</th>
      <td>0</td>
      <td>27</td>
      <td>19</td>
      <td>1619</td>
      <td>Male</td>
      <td>1</td>
      <td>Divorced</td>
      <td>4066</td>
      <td>No</td>
      <td>11</td>
      <td>7</td>
    </tr>
    <tr>
      <th>1193</th>
      <td>0</td>
      <td>29</td>
      <td>9</td>
      <td>1558</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>2451</td>
      <td>No</td>
      <td>18</td>
      <td>5</td>
    </tr>
    <tr>
      <th>1194</th>
      <td>0</td>
      <td>29</td>
      <td>2</td>
      <td>469</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>4649</td>
      <td>No</td>
      <td>14</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
<p>238 rows × 11 columns</p>
</div>



##### 4) 조건을 만족하는 행의 일부 열 조회
- `df.loc[조건, ['열 이름1', '열 이름2', ...]]` 형태로 조회할 열을 리스트로 지정 => 2차원, 데이터프레임 형태로 조회


```python
# 조건에 맞는 하나의 열 조회
data.loc[data['MonthlyIncome'] >= 10000, ['Age']]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>33</td>
    </tr>
    <tr>
      <th>2</th>
      <td>42</td>
    </tr>
    <tr>
      <th>3</th>
      <td>46</td>
    </tr>
    <tr>
      <th>11</th>
      <td>33</td>
    </tr>
    <tr>
      <th>13</th>
      <td>39</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>1157</th>
      <td>42</td>
    </tr>
    <tr>
      <th>1158</th>
      <td>54</td>
    </tr>
    <tr>
      <th>1166</th>
      <td>34</td>
    </tr>
    <tr>
      <th>1190</th>
      <td>27</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>43</td>
    </tr>
  </tbody>
</table>
<p>230 rows × 1 columns</p>
</div>




```python
# 조건에 맞는 여러 열 조회
data.loc[data['MonthlyIncome'] >= 10000, ['Age', 'MaritalStatus', 'TotalWorkingYears']]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>MaritalStatus</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>33</td>
      <td>Married</td>
      <td>14</td>
    </tr>
    <tr>
      <th>2</th>
      <td>42</td>
      <td>Married</td>
      <td>18</td>
    </tr>
    <tr>
      <th>3</th>
      <td>46</td>
      <td>Married</td>
      <td>28</td>
    </tr>
    <tr>
      <th>11</th>
      <td>33</td>
      <td>Married</td>
      <td>15</td>
    </tr>
    <tr>
      <th>13</th>
      <td>39</td>
      <td>Single</td>
      <td>21</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1157</th>
      <td>42</td>
      <td>Single</td>
      <td>24</td>
    </tr>
    <tr>
      <th>1158</th>
      <td>54</td>
      <td>Married</td>
      <td>36</td>
    </tr>
    <tr>
      <th>1166</th>
      <td>34</td>
      <td>Single</td>
      <td>14</td>
    </tr>
    <tr>
      <th>1190</th>
      <td>27</td>
      <td>Divorced</td>
      <td>9</td>
    </tr>
    <tr>
      <th>1195</th>
      <td>43</td>
      <td>Married</td>
      <td>22</td>
    </tr>
  </tbody>
</table>
<p>230 rows × 3 columns</p>
</div>



**연습문제**
- MaritalStatus 가 Single 이고, 나이가 30~40 인 직원을 월급순으로 정렬 (내림차순)


```python
data.loc[(data['MaritalStatus'] == 'Single') & (data['Age'].between(30, 40))].sort_values(['MonthlyIncome'], ascending=False)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1092</th>
      <td>0</td>
      <td>40</td>
      <td>7</td>
      <td>1740</td>
      <td>Male</td>
      <td>2</td>
      <td>Single</td>
      <td>19833</td>
      <td>No</td>
      <td>14</td>
      <td>21</td>
    </tr>
    <tr>
      <th>467</th>
      <td>0</td>
      <td>40</td>
      <td>14</td>
      <td>1128</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>19626</td>
      <td>No</td>
      <td>14</td>
      <td>21</td>
    </tr>
    <tr>
      <th>13</th>
      <td>0</td>
      <td>39</td>
      <td>9</td>
      <td>2022</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>19431</td>
      <td>No</td>
      <td>13</td>
      <td>21</td>
    </tr>
    <tr>
      <th>265</th>
      <td>0</td>
      <td>31</td>
      <td>8</td>
      <td>1430</td>
      <td>Female</td>
      <td>2</td>
      <td>Single</td>
      <td>16422</td>
      <td>No</td>
      <td>11</td>
      <td>9</td>
    </tr>
    <tr>
      <th>420</th>
      <td>0</td>
      <td>40</td>
      <td>9</td>
      <td>1166</td>
      <td>Female</td>
      <td>3</td>
      <td>Single</td>
      <td>13499</td>
      <td>No</td>
      <td>17</td>
      <td>20</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>46</th>
      <td>0</td>
      <td>36</td>
      <td>3</td>
      <td>238</td>
      <td>Male</td>
      <td>2</td>
      <td>Single</td>
      <td>2088</td>
      <td>No</td>
      <td>12</td>
      <td>13</td>
    </tr>
    <tr>
      <th>568</th>
      <td>0</td>
      <td>36</td>
      <td>7</td>
      <td>1659</td>
      <td>Male</td>
      <td>2</td>
      <td>Single</td>
      <td>2013</td>
      <td>No</td>
      <td>11</td>
      <td>15</td>
    </tr>
    <tr>
      <th>26</th>
      <td>1</td>
      <td>32</td>
      <td>2</td>
      <td>1692</td>
      <td>Male</td>
      <td>2</td>
      <td>Single</td>
      <td>1393</td>
      <td>No</td>
      <td>12</td>
      <td>1</td>
    </tr>
    <tr>
      <th>301</th>
      <td>1</td>
      <td>31</td>
      <td>8</td>
      <td>1433</td>
      <td>Female</td>
      <td>2</td>
      <td>Single</td>
      <td>1261</td>
      <td>No</td>
      <td>12</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1118</th>
      <td>1</td>
      <td>30</td>
      <td>9</td>
      <td>1876</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>1081</td>
      <td>No</td>
      <td>13</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>175 rows × 11 columns</p>
</div>



##### 5) 기타
**(1) loc와 iloc**
- `loc`는 index 이름, `iloc`는 index number 기준으로 탐색


```python
s = pd.Series(np.nan, index=[49,48,47,46,45, 1, 2, 3, 4, 5])
s.loc[:3]
```




    49   NaN
    48   NaN
    47   NaN
    46   NaN
    45   NaN
    1    NaN
    2    NaN
    3    NaN
    dtype: float64




```python
s.iloc[:3]
```




    49   NaN
    48   NaN
    47   NaN
    dtype: float64



**(2) `isnull()`**
- column 또는 row 값의 NaN(null) 값의 index를 반환함


```python
data.isnull().head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div>




```python
data.isnull().sum()
```




    Attrition            0
    Age                  0
    DistanceFromHome     0
    EmployeeNumber       0
    Gender               0
    JobSatisfaction      0
    MaritalStatus        0
    MonthlyIncome        0
    OverTime             0
    PercentSalaryHike    0
    TotalWorkingYears    0
    dtype: int64



**(3) 기타 메소드**
- `df.T` : Transpose
- `df.values` : 값 출력
- `df.to_csv()` : csv 변환
- `del df["debt"]` : column 삭제
- `df.cumsum()` : 누적 합
- `df.cummax()` : 누적 최대
- `df.cummin()` : 누적 최소

### (5) DataFrame 수정
#### [1] Index 변경


```python
df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>first_name</th>
      <th>last_name</th>
      <th>age</th>
      <th>city</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jason</td>
      <td>Miller</td>
      <td>42</td>
      <td>San Francisco</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Molly</td>
      <td>Jacobson</td>
      <td>52</td>
      <td>Baltimore</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tina</td>
      <td>Ali</td>
      <td>36</td>
      <td>Miami</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jake</td>
      <td>Milner</td>
      <td>24</td>
      <td>Douglas</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Amy</td>
      <td>Cooze</td>
      <td>73</td>
      <td>Boston</td>
    </tr>
  </tbody>
</table>
</div>




```python
df.index = df['first_name']
df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>first_name</th>
      <th>last_name</th>
      <th>age</th>
      <th>city</th>
    </tr>
    <tr>
      <th>first_name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Jason</th>
      <td>Jason</td>
      <td>Miller</td>
      <td>42</td>
      <td>San Francisco</td>
    </tr>
    <tr>
      <th>Molly</th>
      <td>Molly</td>
      <td>Jacobson</td>
      <td>52</td>
      <td>Baltimore</td>
    </tr>
    <tr>
      <th>Tina</th>
      <td>Tina</td>
      <td>Ali</td>
      <td>36</td>
      <td>Miami</td>
    </tr>
    <tr>
      <th>Jake</th>
      <td>Jake</td>
      <td>Milner</td>
      <td>24</td>
      <td>Douglas</td>
    </tr>
    <tr>
      <th>Amy</th>
      <td>Amy</td>
      <td>Cooze</td>
      <td>73</td>
      <td>Boston</td>
    </tr>
  </tbody>
</table>
</div>



#### [2] 열 삭제


```python
del df['first_name']
df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>last_name</th>
      <th>age</th>
      <th>city</th>
    </tr>
    <tr>
      <th>first_name</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Jason</th>
      <td>Miller</td>
      <td>42</td>
      <td>San Francisco</td>
    </tr>
    <tr>
      <th>Molly</th>
      <td>Jacobson</td>
      <td>52</td>
      <td>Baltimore</td>
    </tr>
    <tr>
      <th>Tina</th>
      <td>Ali</td>
      <td>36</td>
      <td>Miami</td>
    </tr>
    <tr>
      <th>Jake</th>
      <td>Milner</td>
      <td>24</td>
      <td>Douglas</td>
    </tr>
    <tr>
      <th>Amy</th>
      <td>Cooze</td>
      <td>73</td>
      <td>Boston</td>
    </tr>
  </tbody>
</table>
</div>



#### [3] Index 재설정


```python
df.reset_index()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>first_name</th>
      <th>last_name</th>
      <th>age</th>
      <th>city</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jason</td>
      <td>Miller</td>
      <td>42</td>
      <td>San Francisco</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Molly</td>
      <td>Jacobson</td>
      <td>52</td>
      <td>Baltimore</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Tina</td>
      <td>Ali</td>
      <td>36</td>
      <td>Miami</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jake</td>
      <td>Milner</td>
      <td>24</td>
      <td>Douglas</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Amy</td>
      <td>Cooze</td>
      <td>73</td>
      <td>Boston</td>
    </tr>
  </tbody>
</table>
</div>



#### [4] Data Drop


```python
df.drop('city', axis=1)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>last_name</th>
      <th>age</th>
    </tr>
    <tr>
      <th>first_name</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Jason</th>
      <td>Miller</td>
      <td>42</td>
    </tr>
    <tr>
      <th>Molly</th>
      <td>Jacobson</td>
      <td>52</td>
    </tr>
    <tr>
      <th>Tina</th>
      <td>Ali</td>
      <td>36</td>
    </tr>
    <tr>
      <th>Jake</th>
      <td>Milner</td>
      <td>24</td>
    </tr>
    <tr>
      <th>Amy</th>
      <td>Cooze</td>
      <td>73</td>
    </tr>
  </tbody>
</table>
</div>




```python
df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>last_name</th>
      <th>age</th>
      <th>city</th>
    </tr>
    <tr>
      <th>first_name</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Jason</th>
      <td>Miller</td>
      <td>42</td>
      <td>San Francisco</td>
    </tr>
    <tr>
      <th>Molly</th>
      <td>Jacobson</td>
      <td>52</td>
      <td>Baltimore</td>
    </tr>
    <tr>
      <th>Tina</th>
      <td>Ali</td>
      <td>36</td>
      <td>Miami</td>
    </tr>
    <tr>
      <th>Jake</th>
      <td>Milner</td>
      <td>24</td>
      <td>Douglas</td>
    </tr>
    <tr>
      <th>Amy</th>
      <td>Cooze</td>
      <td>73</td>
      <td>Boston</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 여러개 없애기
df.drop(['city', 'age'], axis=1)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>last_name</th>
    </tr>
    <tr>
      <th>first_name</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Jason</th>
      <td>Miller</td>
    </tr>
    <tr>
      <th>Molly</th>
      <td>Jacobson</td>
    </tr>
    <tr>
      <th>Tina</th>
      <td>Ali</td>
    </tr>
    <tr>
      <th>Jake</th>
      <td>Milner</td>
    </tr>
    <tr>
      <th>Amy</th>
      <td>Cooze</td>
    </tr>
  </tbody>
</table>
</div>


### (6) DataFrame 집계
- 상세 데이터가 아닌 집계된 데이터에 대한 분석을 자주 요구하니 익숙해져야 할 내용임.
- sum(), mean(), max(), min(), count() 메소드를 사용해 지정한 열 또는 열들을 기준으로 집계한다.
#### [1] Groupby
- `df.groupby(['집계기준변수'], as_index=)['집계대상변수'].집계함수`
    - 집계기준변수 : ~~별에 해당되는 변수 혹은 리스트. 범주형 변수 (ex: 월 별, 지역 별 등)
    - 집계대상변수 : 집계함수로 집계할 변수 혹은 리스트. (ex: 매출액 합계)
- as_index = True (Default)
    - 집계기준변수를 인덱스로 사용



```python
# 데이터 읽어오기
path = 'https://raw.githubusercontent.com/DA4BAM/dataset/master/Attrition_simple2.CSV'
data = pd.read_csv(path)  

# 상위 5개 확인
data.head(5)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>Gender</th>
      <th>JobSatisfaction</th>
      <th>MaritalStatus</th>
      <th>MonthlyIncome</th>
      <th>OverTime</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>33</td>
      <td>7</td>
      <td>817</td>
      <td>Male</td>
      <td>3</td>
      <td>Married</td>
      <td>11691</td>
      <td>No</td>
      <td>11</td>
      <td>14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>35</td>
      <td>18</td>
      <td>1412</td>
      <td>Male</td>
      <td>4</td>
      <td>Single</td>
      <td>9362</td>
      <td>No</td>
      <td>11</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>42</td>
      <td>6</td>
      <td>1911</td>
      <td>Male</td>
      <td>1</td>
      <td>Married</td>
      <td>13348</td>
      <td>No</td>
      <td>13</td>
      <td>18</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>46</td>
      <td>2</td>
      <td>1204</td>
      <td>Female</td>
      <td>1</td>
      <td>Married</td>
      <td>17048</td>
      <td>No</td>
      <td>23</td>
      <td>28</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>22</td>
      <td>4</td>
      <td>593</td>
      <td>Male</td>
      <td>3</td>
      <td>Single</td>
      <td>3894</td>
      <td>No</td>
      <td>16</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>



**1) 열 하나 집계**


```python
# MonthlyIncome 합계
data['MonthlyIncome'].sum()
```




    7798045




```python
# MonthlyIncome, TotalWorkingYears 각각의 평균
data[['MonthlyIncome', 'TotalWorkingYears']].mean()
```




    MonthlyIncome        6520.104515
    TotalWorkingYears      11.330268
    dtype: float64




```python
# MaritalStatus 별 Age 평균 --> 시리즈
data.groupby('MaritalStatus', as_index=True)['Age'].mean()
```




    MaritalStatus
    Divorced    37.522727
    Married     37.704380
    Single      35.460938
    Name: Age, dtype: float64




```python
# MaritalStatus 별 Age 평균 --> 데이터프레임
data.groupby('MaritalStatus', as_index=True)[['Age']].mean()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
    </tr>
    <tr>
      <th>MaritalStatus</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Divorced</th>
      <td>37.522727</td>
    </tr>
    <tr>
      <th>Married</th>
      <td>37.704380</td>
    </tr>
    <tr>
      <th>Single</th>
      <td>35.460938</td>
    </tr>
  </tbody>
</table>
</div>




```python
# MaritalStatus 별 Age 평균 --> 데이터프레임
data.groupby('MaritalStatus', as_index=False)[['Age']].mean()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MaritalStatus</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Divorced</td>
      <td>37.522727</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Married</td>
      <td>37.704380</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Single</td>
      <td>35.460938</td>
    </tr>
  </tbody>
</table>
</div>




```python
data_mean = data.groupby('MaritalStatus', as_index=False)[['Age']].mean()

# 확인
data_mean
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MaritalStatus</th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Divorced</td>
      <td>37.522727</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Married</td>
      <td>37.704380</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Single</td>
      <td>35.460938</td>
    </tr>
  </tbody>
</table>
</div>



**2) 여러 열 집계**


```python
data_mean = data.groupby('MaritalStatus', as_index=False)[['Age','MonthlyIncome']].mean()

# 확인
data_mean
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MaritalStatus</th>
      <th>Age</th>
      <th>MonthlyIncome</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Divorced</td>
      <td>37.522727</td>
      <td>6707.018939</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Married</td>
      <td>37.704380</td>
      <td>6880.144161</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Single</td>
      <td>35.460938</td>
      <td>5877.794271</td>
    </tr>
  </tbody>
</table>
</div>



- sum() 메소드 앞에 아무 열도 지정하지 않으면 **기준열 이외의 모든 열에 대한 집계**가 수행됩니다.


```python
data_sum = data.groupby('MaritalStatus', as_index=False).sum()

# 확인
data_sum
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MaritalStatus</th>
      <th>Attrition</th>
      <th>Age</th>
      <th>DistanceFromHome</th>
      <th>EmployeeNumber</th>
      <th>JobSatisfaction</th>
      <th>MonthlyIncome</th>
      <th>PercentSalaryHike</th>
      <th>TotalWorkingYears</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Divorced</td>
      <td>23</td>
      <td>9906</td>
      <td>2404</td>
      <td>266305</td>
      <td>716</td>
      <td>1770653</td>
      <td>3958</td>
      <td>3106</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Married</td>
      <td>69</td>
      <td>20662</td>
      <td>5295</td>
      <td>584446</td>
      <td>1468</td>
      <td>3770319</td>
      <td>8431</td>
      <td>6470</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Single</td>
      <td>103</td>
      <td>13617</td>
      <td>3374</td>
      <td>387862</td>
      <td>1065</td>
      <td>2257073</td>
      <td>5852</td>
      <td>3975</td>
    </tr>
  </tbody>
</table>
</div>



- **by=['feature1', 'feature2']** 과 같이 집계 기준 열을 여럿 설정할 수도 있습니다.


```python
# 'MaritalStatus', 'Gender'별 나머지 열들 평균 조회
data_sum = data.groupby(['MaritalStatus', 'Gender'], as_index=False)[['Age','MonthlyIncome']].mean()

# 확인
data_sum
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MaritalStatus</th>
      <th>Gender</th>
      <th>Age</th>
      <th>MonthlyIncome</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Divorced</td>
      <td>Female</td>
      <td>37.010526</td>
      <td>6626.315789</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Divorced</td>
      <td>Male</td>
      <td>37.810651</td>
      <td>6752.384615</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Married</td>
      <td>Female</td>
      <td>38.774194</td>
      <td>7301.493088</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Married</td>
      <td>Male</td>
      <td>37.003021</td>
      <td>6603.912387</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Single</td>
      <td>Female</td>
      <td>35.261146</td>
      <td>5963.445860</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Single</td>
      <td>Male</td>
      <td>35.599119</td>
      <td>5818.555066</td>
    </tr>
  </tbody>
</table>
</div>



#### [2] Aggregation
- df.groupby(  )**.agg(['함수1','함수2', ...])**
- 여러 함수로 한꺼번에 집계
- as_index 예외 : `.agg()`를 사용하면 `as_index = False` 해도, ~~별 칼럼이 인덱스로 들어간다.


```python
data_agg = data.groupby('MaritalStatus', as_index=False)[['MonthlyIncome']].agg(['min','max','mean'])
# 확인
data_agg
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="3" halign="left">MonthlyIncome</th>
    </tr>
    <tr>
      <th></th>
      <th>min</th>
      <th>max</th>
      <th>mean</th>
    </tr>
    <tr>
      <th>MaritalStatus</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Divorced</th>
      <td>1129</td>
      <td>19973</td>
      <td>6707.018939</td>
    </tr>
    <tr>
      <th>Married</th>
      <td>1052</td>
      <td>19999</td>
      <td>6880.144161</td>
    </tr>
    <tr>
      <th>Single</th>
      <td>1009</td>
      <td>19926</td>
      <td>5877.794271</td>
    </tr>
  </tbody>
</table>
</div>
